if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSBackupsState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];var g=[0,4];b=b("bs_caml_int64").neg_one;f.noInfo=a;f.fetchInProgress=c;f.noBackupsPresent=d;f.deviceOnboarded=e;f.deviceNotOnboarded=g;f.fetchError=b}),null);
__d("MWEncryptedBackupsProcessBackupIds.bs",["LS.bs","LSBackupsState.bs","LSProcessBackupIds","LSTransaction.bs","MAWGating.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml_int64","promiseDone"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("MAWGating.bs").isLabyrinthOnWebEnabled(void 0))return b("LSTransaction.bs").run(a,function(a){return b("LSProcessBackupIds")(void 0,b("LS.bs").make(a))},"readWrite").then(function(a){return b("bs_caml_int64").to_int32(a[0])});else return b("Promise").resolve(b("bs_caml_int64").to_int32(b("LSBackupsState.bs").noInfo))}function a(a,c){var d=b("ReQL.bs").fromTableAscending(a.table("encrypted_backups"));(function(a){});d=b("ReQLSubscription.bs").subscribe(a,d,function(d){if(d!==void 0){b("promiseDone")(g(a),c,void 0);return}});return d}f.processBackupIdsStoredProcedure=g;f.subscribeToEncryptedBackupsRow=a}),null);