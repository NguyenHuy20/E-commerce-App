if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWBaseTheme.bs",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={light:a,dark:b,type:"VARIABLES"};d={};f.empty=c;f.Provider=d}),null);
__d("MWCombineThemeConfigs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{light:Object.assign(a.light,b.light),dark:Object.assign(a.dark,b.dark),type:b.type}}f.combine=a}),null);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","bs_curry","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c;a=a.children;var d=h.useContext((c=b("MWV2MessageRowActionsContext.bs")).context),e=d.openReactionsMenu,f=h.useCallback(function(a){return b("bs_curry")._1(e.current,void 0)},[e]);d=h.useContext(c.context);var g=d.replyToMessage,i=h.useCallback(function(a){return b("bs_curry")._1(g.current,void 0)},[g]);d=h.useContext(c.context);var j=d.forwardMessage,k=h.useCallback(function(a){return b("bs_curry")._1(j.current,void 0)},[j]);d=h.useContext(c.context);var l=d.removeMessage,m=h.useCallback(function(a){return b("bs_curry")._1(l.current,void 0)},[l]);c=h.useMemo(function(){var a,c=[],d=(a=b("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);c.push(d);d=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",i);c.push(d);d=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",k);c.push(d);d=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",m);c.push(d);return c},[f,i,k,m]);return h.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:c,xstyle:!1,children:a})}c=a;f.keyCommands=c}),null);
__d("MWV2TombstonedMessage.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576",color:"erlsw9ld",wordBreak:"qv66sw1b"},connectTop:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"},connectBottom:{borderBottomStartRadius:"mrjvor2e",borderBottomEndRadius:"jinzq4gt"}};function a(a){var c=a.children,d=a.ariaLabel,e=a.connectTop,f=a.connectBottom;a=a.xstyle;e=e!==void 0?e:!1;f=f!==void 0?f:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return i.jsx("div",{"aria-label":d,className:(h||(h=b("stylex")))(j.root,e?j.connectTop:!1,f?j.connectBottom:!1,a),children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={withBackground:{backgroundColor:"nred35xi"},withReply:{zIndex:"tkr6xdv7"},vr:{height:"p3ovkuyr",width:"k4urcfbm"}};function a(a){a=a.hasReply;return j.jsxs("div",{className:(i||(i=b("stylex")))(a?k.withReply:k.withBackground),children:[a?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.vr,k.withBackground)}),j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"L\u1ed7i khi xu\u1ea5t file ph\u01b0\u01a1ng ti\u1ec7n"/*FBT_CALL*/),xstyle:k.withBackground})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}var i=h.createContext(a);function c(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:c};f.emptyValue=a;f.context=i;f.Provider=d}),null);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={row:{position:"l9j0dhe7"},rowFocusVisible:{zIndex:"tkr6xdv7"}};function a(a){var c=a.children;a=a.domElementRef;return i.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:i.jsx("div",{role:"row",ref:a,children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:i.jsx(b("FocusWithinHandler.react"),{children:function(a,d){return i.jsx("div",{role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(h||(h=b("stylex")))(j.row,d?j.rowFocusVisible:!1),children:c})}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWAdminTextLayout.bs",["CometTextWithEntities.react","MWChatTextTransform.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.cta;c=c.text;if(c!==void 0)if(a!==void 0)return h.jsxs(h.Fragment,{children:[h.jsx(b("CometTextWithEntities.react"),{text:c,transforms:b("MWChatTextTransform.bs").epdTextTransforms})," ",b("bs_caml_option").valFromOption(a)]});else return h.jsx(b("CometTextWithEntities.react"),{text:c,transforms:b("MWChatTextTransform.bs").epdTextTransforms});else if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return null}c=a;f.make=c}),null);
__d("MWPColorUtils.re",["MWPColorUtils.bs"],(function(a,b,c,d,e,f){a=b("MWPColorUtils.bs").int64ToHex;f.int64ToHex=a}),null);
__d("MWPThreadTheme.re",["MWPThreadTheme.bs"],(function(a,b,c,d,e,f){a=function(){var a=b("MWPThreadTheme.bs").useHook();return{threadTheme:a.threadTheme,gradientColors:a.gradientColors,setPreviewId:function(b){var c=a.setPreviewId(function(a){a=b(a);return a==null?void 0:a});return c},previewId:a.previewId}};f.useHook=a}),null);
__d("MWAdminMsgCtaLink.react",["CometLink.react","MWPColorUtils.re","MWPThreadTheme.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=d("MWPThreadTheme.re").useHook();f=f.threadTheme.fallbackColor;return h.jsx(c("CometLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils.re").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.bs",["MWAdminMsgCtaLink.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWAdminMsgCtaLink.react");f.make=a}),null);
__d("InstantGameBotMessageSubscriptionManagementUserActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.subscribe=a;f.unsubscribe=c}),null);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs",["CometLink.react","InstantGameBotMessageSubscriptionManagementUserActionType.bs","LS.bs","LSTransaction.bs","LSUpdateBotSubscription","MWAdminTextLayout.bs","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message,d=a.shouldSubscribe;a=function(a){var e=b("useReStore")(),f=b("bs_int64").to_string(c.threadKey),g=d?b("InstantGameBotMessageSubscriptionManagementUserActionType.bs").subscribe:b("InstantGameBotMessageSubscriptionManagementUserActionType.bs").unsubscribe;return h.useCallback(function(a){b("LSTransaction.bs").run(e,function(a){return b("LSUpdateBotSubscription")(b("bs_caml_format").caml_int64_of_string(f),g,b("LS.bs").make(a))},"readWrite")},[e,f,g])};var e=c.adminMsgCtaTitle,f={message:c};e=e!==void 0?b("bs_caml_option").some(h.jsx(b("CometLink.react"),{color:"blueLink",target:"_blank",children:e,onClick:a(void 0)})):void 0;e!==void 0&&(f.cta=b("bs_caml_option").valFromOption(e));return h.jsx(b("MWAdminTextLayout.bs").make,f)}c=a;f.make=c}),null);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.threadKey,d=a.targetId,e=a.isOptOut,f=a.renderer,g=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react",{name:"MWNotificationMessagesManageNotificationsDialog","class":"fluid"}).__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs"),dialogProps:{threadKey:c,targetId:d,isOptOut:e},children:function(a){return b("bs_curry")._2(f,a,g)}})}c=a;f.make=c}),null);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.threadKey,d=a.title,e=a.targetId;a=a.isOptOut;var f=function(a,c){return h.jsx(b("CometPressable.react"),{onPress:function(c){return b("bs_curry")._1(a,void 0)},children:h.jsx(b("CometTextWithEntities.react"),{text:d})})};return h.jsx(b("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs").make,{threadKey:c,targetId:e,isOptOut:a,renderer:f})}c=a;f.make=c}),null);
__d("P2bDifferentiationPrivacyDisclosureOpenClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2817");c=b("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click",a);e.exports=c}),null);
__d("MWV2AdminMsgCta.bs",["CometLazyDialogTrigger.react","CometLink.react","JSResource","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminMsgCtaLink.bs","MWAdminTextLayout.bs","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs","MWNotificationMessageManageNotificationsAdminMsgCta.bs","P2bDifferentiationPrivacyDisclosureOpenClickFalcoEvent","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","XMessengerDotComHelpContentControllerRouteBuilder","bs_caml_int64","bs_caml_option","cr:895","react","stylex","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:895")==null?void 0:b("bs_caml_option").some(b("cr:895")),k={adminTextCta:{display:"q9uorilb",fontWeight:"b1v8xokw",color:"n0w5ikp7"}};function a(a){a=a.message;var c=a.adminMsgCtaTitle,d={message:a};a=c!==void 0&&!(b("cr:895")==null)?b("bs_caml_option").some(i.jsx("div",{className:(h||(h=b("stylex")))(k.adminTextCta),children:i.jsx(j.make,{threadKey:a.threadKey,title:c})})):void 0;a!==void 0&&(d.cta=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWAdminTextLayout.bs").make,d)}a={styles:k,make:a};var l={adminTextCta:{display:"q9uorilb",fontWeight:"lrazzd5p"}};function c(a){var c=a.message;a=a.isOptOut;var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c])),f=c.adminMsgCtaTitle,g={message:c};f=f!==void 0&&e!==void 0?b("bs_caml_option").some(i.jsx("div",{className:(h||(h=b("stylex")))(l.adminTextCta),children:i.jsx(b("MWNotificationMessageManageNotificationsAdminMsgCta.bs").make,{threadKey:c.threadKey,title:f,targetId:e.targetId,isOptOut:a})})):void 0;f!==void 0&&(g.cta=b("bs_caml_option").valFromOption(f));return i.jsx(b("MWAdminTextLayout.bs").make,g)}c={styles:l,make:c};function d(a){var c=a.message,d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c]));if(a!==void 0){var e=a.title;if(e!==void 0){a=a.actionUrl;a=a!==void 0?b("bs_caml_option").some(i.jsx(b("CometLink.react"),{href:a,color:"blueLink",target:"_blank",children:e})):void 0}else a=void 0}else a=void 0;e={message:c};a!==void 0&&(e.cta=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWAdminTextLayout.bs").make,e)}d={make:d};function e(a){var c=a.message,d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c]));var e=b("useCometLazyDialog")(b("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgCta.bs")),f=e[0];if(a!==void 0){e=a.title;a=e!==void 0?b("bs_caml_option").some(i.jsx(b("CometLink.react"),{color:"blueLink",children:e,onClick:function(a){f(function(a){return{onClose:function(a){}}},function(a){}),b("P2bDifferentiationPrivacyDisclosureOpenClickFalcoEvent").log(function(a){return{page_id:b("bs_caml_int64").to_int32(c.threadKey),consumer_id:0,entry_point:"ADMIN_TEXT"}})}})):void 0}else a=void 0;e={message:c};a!==void 0&&(e.cta=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWAdminTextLayout.bs").make,e)}e={make:e};var m={lockIcon:{display:"q9uorilb",position:"l9j0dhe7",bottom:"ah5hajhi",right:"kko4jnfk"},adminTextCta:{color:"n0w5ikp7",display:"q9uorilb",fontWeight:"ekzkrbhg"}};function n(a){var c=a.message,d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c]));if(a!==void 0){a=a.title;a=a!==void 0?b("bs_caml_option").some(i.jsx("div",{className:(h||(h=b("stylex")))(m.adminTextCta),children:i.jsx(b("CometLink.react"),{href:b("XMessengerDotComHelpContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}).toString(),target:"_blank",children:a})})):void 0}else a=void 0;var e={message:c};a!==void 0&&(e.cta=b("bs_caml_option").valFromOption(a));return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:(h||(h=b("stylex")))(m.lockIcon),children:i.jsx(b("MDSLockSvgIcon.bs").make,{color:"tertiary",size:String(16)})}),i.jsx(b("MWAdminTextLayout.bs").make,e)]})}n={styles:m,make:n};function o(a){var c=a.message;a=a.shouldSubscribe;return i.jsx(b("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs").make,{message:c,shouldSubscribe:a})}o={make:o};function p(a){var c=a.message,d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c]));if(a!==void 0){var e=a.title;a=e!==void 0?b("bs_caml_option").some(i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgCta.bs"),dialogProps:{onClose:function(a){},threadKey:c.threadKey},children:function(a){return i.jsx(b("MWAdminMsgCtaLink.bs").make,{onClick:a,children:e})}})):void 0}else a=void 0;var f={message:c};a!==void 0&&(f.cta=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWAdminTextLayout.bs").make,f)}p={make:p};f.$MAWEphemeralAdminMsgCta$requireCondXplat=b("cr:895");f.AdminMsgArmadilloEphemeralChangeDuration=a;f.AdminMsgNotificationMessageManageNotifications=c;f.AdminMsgWebUrl=d;f.AdminMsgP2bPrivacyDisclosure=e;f.AdminMsgThreadLevelCutover=n;f.AdminMsgInstantGameBotMessageSubscriptionManagement=o;f.AdminMsgShowPinnedMessages=p}),null);
__d("MWV2ChatAdminMessage.bs",["MAWGating.bs","MWAdminTextLayout.bs","MWV2AdminMsgCta.bs","bs_caml_obj","bs_curry","cr:2823","cr:3545","qex","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a){if(a!==void 0)return a.isAdminMessage;else return!1}var k={container:{paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"},containerThatPrecedesAdminMessage:{paddingBottom:"iuny7tx3"},containerThatProceedsAdminMessage:{paddingTop:"ipjc6fyt"},content:{maxWidth:"mvp693e8",wordBreak:"qv66sw1b",fontSize:"r9r71o1u",lineHeight:"eagtllmd",color:"pipptul6",textAlign:"oqcyycmt",marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"}};function l(a){var c=a.prevMessage,d=a.nextMessage;a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(k.container,j(c)?k.containerThatProceedsAdminMessage:!1,j(d)?k.containerThatPrecedesAdminMessage:!1),children:i.jsx("div",{className:h(k.content),children:a})})}c={styles:k,make:l};function a(a){var c=a.prevMessage,d=a.message;a=a.nextMessage;var e=b("cr:2823")==null?"":b("bs_curry")._2(b("cr:2823").buildLocalizedString,[],b("cr:2823").currentUserAddedDevice);e=b("MAWGating.bs").isAdminMsgOptEnabled(void 0)&&d.text===e&&!(b("cr:3545")==null)?i.jsx(b("cr:3545").make,{}):null;var f=d.adminMsgCtaType,g,h=0;f!==void 0?f==="admin_msg_armadillo_ephemeral_change_duration"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgArmadilloEphemeralChangeDuration.make,{message:d}):f==="admin_msg_web_url"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgWebUrl.make,{message:d}):f==="admin_msg_p2b_privacy_disclosure"&&b("bs_caml_obj").caml_equal(b("qex")._("621"),!0)?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgP2bPrivacyDisclosure.make,{message:d}):f==="admin_notification_messages_opt_out"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{message:d,isOptOut:!0}):f==="admin_notification_messages_opt_in"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{message:d,isOptOut:!1}):f==="admin_msg_thread_level_cutover"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgThreadLevelCutover.make,{message:d}):f==="xmat_instant_game_bot_message_subscribe"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:d,shouldSubscribe:!0}):f==="xmat_instant_game_bot_message_unsubscribe"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:d,shouldSubscribe:!1}):f==="admin_msg_view_pin_msgs_v2"?g=i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgShowPinnedMessages.make,{message:d}):h=1:h=1;h===1&&(g=i.jsxs("div",{children:[i.jsx(b("MWAdminTextLayout.bs").make,{message:d}),e]}));return i.jsx(l,{prevMessage:c,nextMessage:a,children:g})}d=a;f.Container=c;f.$MAWAdminMsg$requireCondXplat=b("cr:2823");f.$MAWAdminViewLogins$requireCondXplat=b("cr:3545");f.make=d}),null);
__d("MWV2MessageStartOfGroupContent.bs",["MWPMessageListColumn.bs","MWV2ChatAdminMessage.bs","MWV2MessageRowSimple.bs","WorkChatDateBreak.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(c!==void 0)return b("bs_int64").compare(b("bs_int64").abs(b("bs_caml_int64").sub(a.timestampMs,c.timestampMs)),[0,9e5])>0;else return!0}function j(a){var c=a.message,d=a.prevMessage;a=a.domElementRef;if(i(c,d))return h.jsx(b("MWV2MessageRowSimple.bs").make,{children:h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWV2ChatAdminMessage.bs").Container.make,{prevMessage:d,nextMessage:c,children:h.jsx(b("WorkChatDateBreak.bs").make,{timestamp:b("bs_caml_int64").to_float(c.timestampMs)})})}),domElementRef:a});else return null}c={make:j};function a(a){var b=a.message,c=a.prevMessage;a=a.domElementRef;return h.jsx(j,{message:b,prevMessage:c,domElementRef:a})}d=a;f.Datebreak=c;f.make=d}),null);
__d("MWV2OneToOneThreadBlockedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){return h.useContext(i)}function c(a){var b=a.children;a=a.blocked;return h.createElement(i.Provider,{value:a,children:b})}d=c;f.context=i;f.useIsBlocked=a;f.make=d}),null);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useRef(function(a){})}f.useStopHoveringRef=a}),null);
__d("MAWEphemeralMessageTimer.bs",["fbt","CometScreenReaderText.react","MAWEphemeralConsts.bs","MWText.react","WATimeUtils","bs_caml_int32","bs_caml_int64","bs_curry","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a<b("MAWEphemeralConsts.bs").oneMinuteInSeconds)return g._(/*FBT_CALL*/"{seconds}"/*FBT_CALL*/,[g._param("seconds",String(a).concat("s"))]);else if(a<b("MAWEphemeralConsts.bs").oneHourInSeconds)return g._(/*FBT_CALL*/"{minutes}"/*FBT_CALL*/,[g._param("minutes",String(b("bs_caml_int32").div(a,b("MAWEphemeralConsts.bs").oneMinuteInSeconds)).concat("m"))]);else if(a<b("MAWEphemeralConsts.bs").oneDayInSeconds)return g._(/*FBT_CALL*/"{hours}"/*FBT_CALL*/,[g._param("hours",String(b("bs_caml_int32").div(a,b("MAWEphemeralConsts.bs").oneHourInSeconds)).concat("h"))]);else return g._(/*FBT_CALL*/"{days}"/*FBT_CALL*/,[g._param("days",String(b("bs_caml_int32").div(a,b("MAWEphemeralConsts.bs").oneDayInSeconds)).concat("d"))])}function k(a){return g._(/*FBT_CALL*/"Message will disappear in: {time}"/*FBT_CALL*/,[g._param("time",a)])}function l(a,c){a=b("bs_caml_int64").to_int32(b("bs_caml_int64").sub(a,b("bs_caml_int64").of_float(b("WATimeUtils").unixTime())));if(c!==void 0&&a>b("bs_caml_int64").to_int32(c))return b("bs_caml_int64").to_int32(c);else return a}function a(a){var c=a.expirationTimestamp,d=a.ephemeralDurationInSec;a=i.useState(function(){return l(c,d)});var e=a[1],f=a[0];a=j(f);var g=k(a);i.useEffect(function(){f>0&&b("setTimeout")(function(a){return b("bs_curry")._1(e,function(a){return f-1|0})},b("MAWEphemeralConsts.bs").msPerSec)},[f,c]);return i.jsxs("div",{className:"oqcyycmt khqfe5cm",children:[i.jsx(b("CometScreenReaderText.react"),{text:g}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(b("MWText.react"),{type:"meta1",children:a})})]})}c=a;f.getScreenReaderText=k;f.getRemainingTimeInSec=l;f.make=c}),null);
__d("MWPCombineTextRenderers.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a){var c={};a.forEach(function(a){if(a===void 0)return;var d=a[1];a=a[0];var e=b("bs_js_dict").get(c,a);e!==void 0?c[a]=e.concat([d]):c[a]=[d]});return c}f.useHook=a}),null);
__d("MWPUseLinkRendererFactory.bs",["LSThreadCapabilityBitOffset.bs","MWTextWithEntities.bs","MWThreadCapabilitiesContext.bs","bs_curry","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a!==void 0?a:!1;c=b("MWThreadCapabilitiesContext.bs").useHook(void 0);var e=b("gkx")("1886144")&&b("bs_curry")._1(c,b("LSThreadCapabilityBitOffset.bs").disableLinks);return function(a,c,f){if(e)return;else return[f,b("MWTextWithEntities.bs").linkPlugin(a,void 0,c,d,void 0)]}}f.useHook=a}),null);
__d("MWUseTextRenderers.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","CometErrorBoundary.re","CometLink.react","GroupsCometJoinChatDialog.entrypoint","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWCMUseShouldGoToFullScreenChat.bs","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder.bs","MWLSThread.bs","MWMessageCellFocusTable.bs","MWPCombineTextRenderers.bs","MWPUseLinkRendererFactory.bs","MWV2OpenTabOrThread.bs","bs_belt_Option","bs_curry","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={underline:{textDecoration:"oo483o9r",color:"gmql0nx0"},bold:{fontWeight:"lrazzd5p"},highlight:{backgroundColor:"tutozmqo",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",paddingTop:"jwdofwj8",paddingEnd:"rz4wbd8a",paddingBottom:"r8blr3vg",paddingStart:"a8nywdso"}};function k(a){var c=a.node,d=a.folder,e=a.thread;a=b("MWV2OpenTabOrThread.bs").useHook(void 0);var f=b("bs_curry")._1(a.openTabOrInbox,!0);a=b("bs_belt_Option").getWithDefault(e.hasPendingInvitation,!1);var g=b("MWCMUseShouldGoToFullScreenChat.bs").useHook(void 0);return i.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("GroupsCometJoinChatDialog.entrypoint"),otherProps:{shouldGoToMessenger:g,invited:a},preloadParams:{groupID:b("bs_int64").to_string(d.fbGroupId),threadID:b("bs_int64").to_string(e.threadKey)},fallback:function(a){return i.jsx(b("CometCardedDialogLoadingState.re").make,{})},children:function(a){return i.jsx("span",{role:"gridcell",className:(h||(h=b("stylex")))(j.bold),children:i.jsx(b("CometLink.react"),{children:c,onClick:function(c){if(b("MWCMThreadTypes.bs").isUnjoinedCMThread(e.threadType))return b("bs_curry")._1(a,void 0);else return b("bs_curry")._2(f,{threadKey:e.threadKey,clientThreadKey:e.clientThreadKey,threadType:e.threadType},"mention")}})})}},b("bs_int64").to_string(e.threadKey))})}c={make:k};function l(a){var c=a.node,d=a.threadKey;a=a.communityLinkFallback;var e=b("MWLSThread.bs").useThreadExn(d),f=b("MWCMUseFolder.bs").useHook(e);if(f===void 0)return a;d=i.useCallback(function(a){return b("bs_curry")._1(b("MWInboxCommunityThreadsRouteBuilder.bs").buildURL,{folder_id:b("bs_int64").to_string(f.folderId),thread_key:b("bs_int64").to_string(e.threadKey)})},[JSON.stringify(f.folderId)]);return i.jsx(b("MWV2OpenTabOrThread.bs").Provider.make,{children:i.jsx(k,{node:c,folder:f,thread:e}),value:d})}d={make:l};var m=["Command",function(a,c){return i.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("span",{role:"gridcell",className:(h||(h=b("stylex")))(j.bold),children:a})})}],n=["CommunityChannel",function(a,c){var d=i.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("span",{role:"gridcell",className:(h||(h=b("stylex")))(j.bold),children:a})});return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return d},children:i.jsx(l,{node:a,threadKey:c.threadKey,communityLinkFallback:d})})}];function a(a,c){c=a!==void 0?a:!1;var d=c;a=function(a){return b("MWPUseLinkRendererFactory.bs").useHook(d,a)};return b("MWPCombineTextRenderers.bs").useHook([b("bs_curry")._4(a,void 0,[j.underline],"chat_message_regular_link","Link"),b("bs_curry")._4(a,void 0,[j.bold],"profile_link","Profile"),b("bs_curry")._4(a,void 0,[j.highlight],"highlight","Highlight"),m,n,["MessengerTextFormatting",b("MWChatTextFormatting").messageRenderer]])}f.styles=j;f.CommunityChannelLink=c;f.CommunityChannelLinkContainer=d;f.commandRenderer=m;f.communityChannelRenderer=n;f.useHook=a}),null);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","FBID.bs","LSContactTypeExact.bs","MWChatTextFormatting","MWLSContactTypeExactUtils.bs","MessageProfileRangeType","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense","XCometVanityURLControllerRouteBuilder","bs_caml","bs_caml_array","bs_caml_format","getURLRanges","gkx"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var c=b("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),d=b("gkx")("1839834")?b("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];c=c.concat(d).sort(function(a,b){return a.offset-b.offset|0});if(c.length===0)return!1;var e={contents:0},f={contents:0};d=c.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return g.test(c)===!1});c=e.contents!==a.length&&!g.test(a.substring(f.contents));if(d)return!1;else return!c}function c(a){var c=b("getURLRanges")(a),d=[];a=b("MWChatTextFormatting").getFormattingRanges(a);c.forEach(function(a){a={offset:a.offset,length:a.length,entity:{__typename:"Link",uri:a.entity.url}};d.push(a)});return d.concat(a)}function h(a){if(b("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function i(a,c){try{a=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0}))}catch(b){a=void 0}if(a===void 0)return h(c);var d=a.contactTypeExact;if(b("bs_caml").i64_eq(d,b("LSContactTypeExact.bs").fbUser))return"https://www.facebook.com"+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(c)});if(!b("MWLSContactTypeExactUtils.bs").isIgContact(a))return h(c);d=a.secondaryName;if(d!==void 0)return"https://www.instagram.com/"+d+"/";else return h(c)}function d(a,c,d,e,f){c=c.split(",");var g=d.split(","),j=e.split(","),k=f.split(",");return c.reduce(function(c,d,e){var f=b("MessageProfileRangeType.bs").ofString(b("bs_caml_array").get(k,e));f===b("MessageProfileRangeType").THREAD||f===b("MessageProfileRangeType").THREAD_ACTIVE?c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Profile",uri:h(d),id:b("FBID.bs").ofStringExn(d)}}):f===b("MessageProfileRangeType").PROFILE?c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Profile",uri:i(a,d),id:b("FBID.bs").ofStringExn(d)}}):f===b("MessageProfileRangeType").COMMUNITY_CHANNEL?c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"CommunityChannel",threadKey:b("bs_caml_format").caml_int64_of_string(d)}}):f===b("MessageProfileRangeType").SILENT&&c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Command"}});return c},[])}f.utf16RegexSpaces=g;f.isEmojiOnlyMessage=a;f.findRanges=c;f.createURIForThread=h;f.createProfileURIForMention=i;f.findRangesForMentions=d}),null);
__d("MWPGating.bs",["qex"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("qex")._("105")===!0}f.isDualColumnMessageListEnabled=a}),null);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWPActor.bs","MWPGetThreadTitle.bs","ReQL.bs","ReQLSuspense","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("MWPActor.bs").useActor(void 0),d=b("useReStore")(),e=b("ReQLSuspense").useArray(function(){var c;return(c=b("ReQL.bs")).take(c.leftJoin(c.getKeyRange(c.fromTableAscending(d.table("participants")),{hd:a.threadKey,tl:0}),c.fromTableAscending(d.table("contacts"))),8)},[a.threadKey]);return i.useMemo(function(){var d=a.threadName;if(d!==void 0)return g._(/*FBT_CALL*/"Tin nh\u1eafn trong cu\u1ed9c tr\u00f2 chuy\u1ec7n {name of conversation}"/*FBT_CALL*/,[g._param("name of conversation",d)]).toString();d=b("bs_belt_Option").getWithDefault(b("MWPGetThreadTitle.bs").computeThreadTitle(void 0,a,e,c),"");return g._(/*FBT_CALL*/"Tin nh\u1eafn trong cu\u1ed9c tr\u00f2 chuy\u1ec7n v\u1edbi {participant list}"/*FBT_CALL*/,[g._param("participant list",d)]).toString()},[c,e,a.threadName])}f.useHook=a}),null);
__d("MWPBaseMessageListRowCountdown.bs",["MAWEphemeralMessageTimer.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",flexGrow:"kb5gq1qc",marginEnd:"oi9244e8",marginStart:"h676nmdw",zIndex:"tkr6xdv7"},moveUpToAccountForReactions:{paddingBottom:"jfpizvyy"}};function a(a){var c=a.expirationTimestamp,d=a.ephemeralDurationInSec,e=a.hasReactions;a=a.ariaHidden;a=a!==void 0?a:!1;return i.jsx("div",{"aria-hidden":a,className:(h||(h=b("stylex")))(j.root,e?j.moveUpToAccountForReactions:!1),children:i.jsx(b("MAWEphemeralMessageTimer.bs").make,{expirationTimestamp:c,ephemeralDurationInSec:d})})}c=a;f.make=c}),null);
__d("MWPBaseMessageListRow.bs",["BaseThemeProvider.react","LSMessageContentType.bs","MWCombineThemeConfigs.bs","MWMessageDeliveryStatus.bs","MWPBaseMessageListRowCountdown.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWV2MessageHasReply.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.message,d=a.prevMessage;a=a.children;c=b("MWPMessageParsingUtils.bs").isStartOfGroup(c,d);if(c)return b("bs_curry")._1(a,void 0);else return null}a={make:a};function j(a){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(a.displayedContentTypes,b("LSMessageContentType.bs").hscrollXma),b("bs_caml_int64").zero)}var k={container:{display:"j83agx80"},inner:{display:"j83agx80",flexGrow:"buofh1pr",flexShrink:"g5gj957u",minWidth:"hpfvmrgz"},innerOutgoing:{flexDirection:"rl25f0pe"}};function c(a){var c=a.children,d=a.message,e=a.renderProfile,f=a.renderMessageActions,g=a.renderGutterItem,l=a.hasReactions;a=a.outgoing;var m=b("MWV2MessageHasReply.bs").make(d),n=d.ephemeralExpirationTs,o=d.ephemeralDurationInSec,p=d.isUnsent,q=b("MWMessageDeliveryStatus.bs").getFromSendStatus(d.sendStatusV2)===1;return i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(k.container),children:[i.jsxs(b("MWPMessageListColumn.bs").Profile.make,{children:[a?null:b("bs_curry")._1(e,void 0),l?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]}),i.jsxs("div",{role:"none","data-testid":"message-container",className:h(k.inner,a?k.innerOutgoing:!1),children:[i.jsx(b("MWPMessageListColumn.bs").Bubble.make,{children:c,paint:!a||m,makeSpaceForActions:j(d)}),n!==void 0&&!p?i.jsx(b("MWPBaseMessageListRowCountdown.bs").make,{expirationTimestamp:n,ephemeralDurationInSec:o,hasReactions:l}):null,j(d)?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:q?null:b("bs_curry")._1(f,void 0)}):null,i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})]}),i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[b("bs_curry")._1(g,void 0),l?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]})]})}c={styles:k,make:c};function d(a){var c=a.message,d=a.nextMessage;a=a.children;c=b("MWPMessageParsingUtils.bs").isEndOfGroup(c,d);if(c)return b("bs_curry")._1(a,void 0);else return null}d={make:d};var l={"mwp-reply-background-color":"var(--comment-footer-background)"},m={"mwp-reply-background-color":"var(--comment-footer-background)"},n={light:l,dark:m,type:"VARIABLES"};function e(a){var c=a.setHovered,d=a.stopHoveringRef,e=a.domElementRef,f=a.children,g=a.xstyle,j=a.role;a=a.theme;var k=g!==void 0?b("bs_caml_option").valFromOption(g):!1,l=a!==void 0?a:n,m=i.useCallback(function(a){return b("bs_curry")._1(c,function(a){return!1})},[c]);return i.jsx(b("BaseThemeProvider.react"),{config:i.useMemo(function(){return b("MWCombineThemeConfigs.bs").combine(n,l)},[l]),children:function(a,g){return i.jsx("div",{role:j,style:g,className:(h||(h=b("stylex")))(a,k),ref:e,onMouseOver:function(a){b("bs_curry")._1(d.current,void 0),b("bs_curry")._1(c,function(a){return!0}),d.current=m},onMouseLeave:function(a){if(d.current===m){b("bs_curry")._1(m,void 0);d.current=function(a){};return}},children:f})}})}l=e;f.BeforeContent=a;f.Body=c;f.Footer=d;f.defaultTheme=n;f.make=l}),null);
__d("MWPBaseMessageListRowActions.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"bp9cbjyn",width:"jcr6t5e3",display:"j83agx80"},outgoing:{flexDirection:"rl25f0pe"},incoming:{flexDirection:"btwxx1t3"}};function k(a){var c=a.outgoing;a=a.children;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,c?j.outgoing:j.incoming),children:a})}d={make:k};function a(a){a=a.children;return i.jsx("div",{children:a})}e={make:a};var l={root:{flexShrink:"pfnyh3mw",display:"j83agx80",flexDirection:"cbu4d94t",width:"jcr6t5e3",justifyContent:"taijpn5t",flexGrow:"buofh1pr",position:"l9j0dhe7",zIndex:"s90hwng2"},moveUpToAccountForReactions:{paddingBottom:"jfpizvyy"},outgoing:{paddingEnd:"jxrgncrl"},incoming:{paddingStart:"qnrpqo6b"}};function c(a){var c=a.children,d=a.hasReactions,e=a.outgoing;a=a.ariaHidden;a=a!==void 0?a:!1;return i.jsx("div",{"aria-hidden":a,className:(h||(h=b("stylex")))(l.root,d?l.moveUpToAccountForReactions:!1,e?l.outgoing:l.incoming),children:i.jsx(k,{outgoing:e,children:c})})}a={styles:l,make:c};f.ActionsList=d;f.ActionsListItem=e;f.Container=a}),null);
__d("MWPBaseMessageRowHeader.bs",["fbt","BaseHeading.react","LSMessageReplySourceTypeV2.bs","MWPMessageAuthor.bs","MWPMessageListColumn.bs","MWV2MessageHasReply.bs","StylexHelpers.bs","bs_caml_obj","bs_caml_option","bs_curry","cr:1499","cr:2311","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={header:{display:"j83agx80",flexDirection:"cbu4d94t"},alignEnd:{alignItems:"aovydwv3"},spaceBetween:{display:"j83agx80","justify-content":"i1fnvgqd"}};function l(a){var c=a.message,d=a.outgoing;a=b("MWPMessageAuthor.bs").useAuthorName(c);a=a[0];var e=j.useMemo(function(){if(d)return g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 g\u1eedi"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"Ng\u01b0\u1eddi tham gia"/*FBT_CALL*/)},[d]);if(c.isAdminMessage)return null;else return j.jsx("span",{className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:a!==void 0&&!d?a:e})}c={make:l};d=b("cr:1499")==null?void 0:b("bs_caml_option").some(b("cr:1499"));e=b("cr:2311")==null?void 0:b("bs_caml_option").some(b("cr:2311"));function m(a,c,d,e){var f=a.replySnippet;f=f!==void 0?f!=="":!1;var g=b("bs_caml_obj").caml_equal(a.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").forward);if(f)return b("bs_caml_option").some(b("bs_curry")._2(d,a,e));else if(g)return b("bs_caml_option").some(b("bs_curry")._2(c,a,e));else return}function a(a){var c=a.isFirstMessageInGroup,d=a.message,e=a.outgoing,f=a.renderSenderName,g=a.renderPinnedText,h=a.renderForwardSnippet,n=a.renderReplySnippet,o=a.renderTimestamp,p=a.isGroupThread;a=a.alwaysRenderSenderName;a=a!==void 0?a:!1;var q=b("MWV2MessageHasReply.bs").make(d);h=m(d,h,n,e);n=a||p&&c&&!e&&!q;a=o!==void 0?k.spaceBetween:!1;p=j.jsx(j.Fragment,{children:h!==void 0?j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.header,e?k.alignEnd:!1),children:j.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:b("bs_caml_option").valFromOption(h),shrinkwrap:!0})}):b("cr:1499")==null?n?b("bs_curry")._1(f,d):j.jsx(l,{message:d,outgoing:e}):j.jsx(b("cr:1499").make,{message:d,outgoing:e,renderPinnedText:function(a){return b("bs_curry")._2(g,a.message,a.showDivider)},shouldRenderSenderName:n})});q=j.jsx(j.Fragment,{children:!(b("cr:2311")==null)&&o!==void 0?j.jsx(b("cr:2311").make,{message:d,renderTimestamp:o}):null});if(c)return j.jsxs(b("BaseHeading.react"),{xstyle:a,children:[p,q]});else return p}a=a;f.styles=k;f.AccessibleText=c;f.$MWPMessageEyebrows$requireCond=b("cr:1499");f.mWMessageEyebrows=d;f.$MWPBaseMessageRowHeaderTimestamp$requireCond=b("cr:2311");f.mwpBaseMessageRowHeaderTimestamp=e;f.useSnippet=m;f.make=a}),null);
__d("MWPMessageListFocusTable.bs",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","bs_caml_option","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={grid:{borderStart:"ns9esd28",borderEnd:"tqkqlopc"}};function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var c=a.modal,d=a.setModal,e=a.children,f=a.ariaLabel,g=a.wrapX;a=a.wrapY;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var l=i.useCallback(function(a){var c=a.type;switch(c){case"PAGE_DOWN":case"PAGE_UP":break;default:return}c=a.type==="PAGE_DOWN";a.preventDefault();var d=a.currentRowIndex+(c?1:-1)|0,e=!1;while(!e){var f=a.getCell(d,a.currentCellIndex);if(f==null){var g=a.getCell(c?d-1|0:0,a.currentCellIndex);g==null||a.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!==void 0?b("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(k):null;g==null?d=c?d+1|0:d-1|0:(a.focusCell(f),e=!0)}}},[]);return i.jsx(b("MWV2MessageListIsRowModalContext.bs").Provider.make,{children:i.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:b("MWMessageTableFocusTable.bs").scopeQuery,children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,allowModifiers:!0,children:i.jsx("div",{role:"grid","aria-label":f,className:(h||(h=b("stylex")))(j.grid),children:e}),disabled:c!=="",onNavigate:l})}),value:d})}c=a;f.styles=j;f.dateBreakQuery=k;f.make=c}),null);
__d("MWPMessageListRowWithKeyboardInteractions.bs",["fbt","BaseHeadingContextWrapper.re","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.bs","MWPGating.bs","MWPMessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","bs_caml_int64","bs_caml_option","bs_curry","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={row:{position:"l9j0dhe7"},cell:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7"},cellFocusVisible:{zIndex:"tkr6xdv7"},cellModal:{outline:"etjob87o","@media (-webkit-min-device-pixel-ratio: 0)":{outline:"l9gyps8x"},outlineOffset:"shww88j2"},enterModalButton:{position:"pmk7jnqg",end:"hhcrnkbu",top:"ormqv51v",transform:"i9k17dj3",backgroundColor:"ms7hmo2b",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"r92hip7p",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq",zIndex:"tkr6xdv7"},enterModalButtonVisible:{opacity:"pedkr2u6"}};function l(a){}function m(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var n=g._(/*FBT_CALL*/"Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"/*FBT_CALL*/),o=g._(/*FBT_CALL*/"\u0110\u00f3ng Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"/*FBT_CALL*/),p=g._(/*FBT_CALL*/"Enter"/*FBT_CALL*/),q=j.forwardRef(function(a,c){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=b("useCometTheme")("invert");var i=a[1];g={"aria-label":g,onPress:function(a){return b("bs_curry")._1(h,void 0)},xstyle:function(a){return[i,k.enterModalButton,e]},focusable:f,children:j.jsx(b("MDSTextPairing.react"),{body:d,level:4,bodyColor:"primary"})};f=c==null?void 0:b("bs_caml_option").some(c);f!==void 0&&(g.ref=b("bs_caml_option").valFromOption(f));return b("bs_curry")._1(a[0],{children:j.jsx(b("CometPressable.react"),g)})});c={make:q};function a(a){var c=a.message,d=a.prevMessage,e=a.nextMessage,f=a.messageDomID,h=a.outgoing,r=a.stopHoveringRef,s=a.setFocused,t=a.setHovered,u=a.children,v=a.isModal,w=a.isDialogOpened,x=a.setIsDialogOpened,y=a.domElementRef,z=a.isFocused;a=a.theme;var A=j.useContext(b("MWV2MessageListIsRowModalContext.bs").context),B=j.useRef(null),C=b("useCometUniqueID")(),D=j.useCallback(function(a){b("bs_curry")._1(A,function(a){return c.messageId}),b("setTimeout")(function(a){b("FocusRegion.react").focusRegionById(C,b("focusScopeQueries").tabbableScopeQuery)},0)},[A,c.messageId,C]),E=function(a){b("bs_curry")._1(A,function(a){return""});a=B.current;if(!(a==null))return a.focus()},F=b("CometTimestamp.react").getTimestamp(b("useServerTime")(void 0),new Date(b("bs_caml_int64").to_float(c.timestampMs))),G=b("MWPMessageAuthor.bs").useAuthorName(c);G=G[0];h=h?g._(/*FBT_CALL*/"B\u1ea1n"/*FBT_CALL*/):G!==void 0?G:g._(/*FBT_CALL*/"m\u1ed9t ng\u01b0\u1eddi tham gia"/*FBT_CALL*/);var H=b("useCometUniqueID")(),I=j.jsx(b("CometScreenReaderText.react"),{text:g._(/*FBT_CALL*/"Tin nh\u1eafn do {Name of the author of the incoming message} g\u1eedi l\u00fac {Stringified timestamp of the incoming message}"/*FBT_CALL*/,[g._param("Stringified timestamp of the incoming message",F),g._param("Name of the author of the incoming message",h)]),id:H}),J=b("useCometUniqueID")(),K=j.useRef(null),L=b("MWPGating.bs").isDualColumnMessageListEnabled(void 0)||b("gkx")("5093"),M=b("gkx")("3598"),N=j.useRef(l),O=j.useRef(l),P=j.useRef(l),Q=j.useRef(l);G=j.useMemo(function(){return{setFocused:s,setIsDialogOpened:x,isDialogOpened:w}},[s,x,w]);F=j.useMemo(function(){return{forwardMessage:P,openReactionsMenu:N,removeMessage:Q,replyToMessage:O}},[N,O]);h={prevMessage:d,message:c,nextMessage:e,setHovered:t,stopHoveringRef:r,children:j.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:j.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){if(z!==a){b("bs_curry")._1(s,function(b){return a});return b("bs_curry")._1(A,function(b){if((a||w)&&v)return c.messageId;else return""})}},onFocusVisibleChange:function(c){z!==c&&b("bs_curry")._1(s,function(a){return c});var a=K.current;if(c&&!(a==null)){b("setTimeout")(function(b){try{return a.scrollIntoView({block:"nearest",behavior:"smooth"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,d){a=j.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:j.jsx("div",{ref:B,role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(i||(i=b("stylex")))(k.cell,v?k.cellModal:!1,d?k.cellFocusVisible:!1),children:j.jsx(b("FocusInertRegion.react"),{disabled:v,children:v?j.jsxs(j.Fragment,{children:[j.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:b("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:b("focusScopeQueries").tabbableScopeQuery,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsxs("div",{role:"dialog","aria-describedby":f,"aria-labelledby":H,id:J,children:[u,v?I:null,j.jsx(q,{text:g._(/*FBT_CALL*/"Esc"/*FBT_CALL*/),xstyle:k.enterModalButtonVisible,focusable:!0,ariaLabel:o,onPress:E})]}),onKeyDown:m}),id:C}),b("ReactDOMComet").createPortal(j.jsx("div",{"aria-owns":J}),document.body)]}):j.jsxs(j.Fragment,{children:[u,L?null:j.jsx(q,{text:p,xstyle:d?k.enterModalButtonVisible:b("StylexHelpers.bs").styles.visuallyHidden,focusable:!0,ariaLabel:n,onPress:D,ref:K})]}),focusQuery:b("focusScopeQueries").tabbableScopeQuery})})});return j.jsxs(j.Fragment,{children:[j.jsx(b("MWMessageCellFocusTable.bs").keyCommands,{onEscape:v?E:void 0,onEnter:v?void 0:D,onSpace:v?void 0:D,children:M?j.jsx(b("MWMessageCellKeyCommands.bs").keyCommands,{message:c,children:a}):a}),L?j.jsx("div",{role:"gridcell",children:j.jsx(q,{text:v?g._(/*FBT_CALL*/"\u0110i \u0111\u1ebfn ph\u1ea7n Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"/*FBT_CALL*/):p,xstyle:d&&!v?k.enterModalButtonVisible:b("StylexHelpers.bs").styles.visuallyHidden,focusable:v,ariaLabel:v?g._(/*FBT_CALL*/"\u0110i \u0111\u1ebfn ph\u1ea7n Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"/*FBT_CALL*/):n,onPress:D,ref:K})}):null]})}})}),xstyle:k.row,role:"row"};y!==void 0&&(h.domElementRef=b("bs_caml_option").valFromOption(y));a!==void 0&&(h.theme=b("bs_caml_option").valFromOption(a));return j.jsx(b("BaseHeadingContextWrapper.re").make,{children:j.jsx(b("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{children:j.jsx(b("MWV2MessageRowActionsContext.bs").Provider.make,{children:j.jsx(b("MWPBaseMessageListRow.bs").make,h),value:F}),value:G})})}d=a;f.styles=k;f.noop=l;f.onKeyDown=m;f.enterModalLabel=n;f.exitModalLabel=o;f.enterLabel=p;f.ModalButton=c;f.make=d}),null);
__d("MWPMessageListText.bs",["BaseTheme.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","MWBaseTheme.bs","MWChatTextTransform.bs","MWVisibleMessageContext.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={forwardedOutgoing:{color:"av1wybal",borderStartColor:"ilywhbp3"},forwardedIncoming:{color:"pipptul6",borderStartColor:"ph5sz0o6"},forwarded:{borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",whiteSpace:"ii04i59q",wordWrap:"c1et5uql",fontSize:"e9vueds3",lineHeight:"j5wam9gi",marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},regularOutgoing:{color:"ljqsnud1"},regularIncoming:{color:"oo9gr5id"},regular:{textAlign:"hzawbc8m",whiteSpace:"ii04i59q",fontSize:"jq4qci2q",lineHeight:"g9io39s2"}};d={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var k={light:d,dark:e,type:"VARIABLES"};function a(a){if(a)return b("MWBaseTheme.bs").empty;else return k}function c(a){var c=a.message,d=a.text,e=a.outgoing,f=a.ranges,g=a.renderers,l=a.transforms,m=a.xstyleForText;a=a.xstyleForForwarded;l=l!==void 0?l:b("MWChatTextTransform.bs").epdTextTransforms;m=m!==void 0?b("bs_caml_option").valFromOption(m):!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;b("MWVisibleMessageContext.bs").useHook(void 0);c=b("bs_caml_obj").caml_equal(c.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").forward);var n=e?b("MWBaseTheme.bs").empty:k;if(d!==void 0)if(c){c={ranges:f,withParagraphs:!1,text:d,transforms:l};g!==void 0&&(c.renderers=b("bs_caml_option").valFromOption(g));a=i.jsx("blockquote",{className:(h||(h=b("stylex")))(j.forwarded,e?j.forwardedOutgoing:j.forwardedIncoming,a),dir:"auto",children:i.jsx(b("CometTextWithEntities.react"),c)})}else{c={ranges:f,withParagraphs:!1,text:d,transforms:l};g!==void 0&&(c.renderers=b("bs_caml_option").valFromOption(g));a=i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.regular,e?j.regularOutgoing:j.regularIncoming,m),dir:"auto",children:i.jsx(b("CometTextWithEntities.react"),c)})}else a=null;return i.jsx(b("BaseTheme.react"),{config:n,children:a,role:"none"})}d=b("MWBaseTheme.bs").empty;e=c;f.styles=j;f.ougtoingTheme=d;f.incomingTheme=k;f.getTheme=a;f.make=e}),null);
__d("MWPMessageSenderName.bs",["fbt","MWPMessageAuthor.bs","MWPMessageListColumn.bs","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{fontSize:"r9r71o1u",color:"m9osqain",lineHeight:"fsrhnwul",paddingStart:"pg2h7yj2",paddingBottom:"r8blr3vg",marginTop:"qjjbsfad"}};function l(a){a=a.children;return j.jsx("div",{className:(i||(i=b("stylex")))(k.container),"data-testid":"mw_message_sender_name",children:a})}c={styles:k,make:l};function a(a){a=a.message;var c=b("MWPMessageAuthor.bs").useAuthorName(a);c=c[0];var d=g._(/*FBT_CALL*/"Th\u00e0nh vi\u00ean"/*FBT_CALL*/),e=b("gkx")("4365");a=a.takedownState;return a!==void 0&&e?j.jsx(j.Fragment,{children:j.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:j.jsx(l,{children:d})})}):j.jsx(j.Fragment,{children:c!==void 0?j.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:j.jsx(l,{children:c})}):null})}d=a;f.GroupHeading=c;f.make=d}),null);
__d("MWPSolidMessageBubble.bs",["bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={bubble:{paddingTop:"cxgpxx05",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",color:"ljqsnud1",maxWidth:"odn2s2vf",zIndex:"tkr6xdv7"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"hxptbbi5",width:"k4urcfbm",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e"}};function a(a){var c=a.children,d=a.style,e=a.connectTop,f=a.connectBottom,g=a.precedesXMA,k=a.outgoing;a=a.xstyle;g=g!==void 0?g:!1;return i.jsx("div",{role:"none","data-testid":"solid-message-bubble",className:(h||(h=b("stylex")))(j.bubble,e?k?j.outgoing_connect_top:j.incoming_connect_top:!1,!g&&f?k?j.outgoing_connect_bot:j.incoming_connect_bot:!1,g?j.precedes_xma:!1,b("bs_belt_Option").getWithDefault(a,!1)),style:d,children:c})}c=a;f.styles=j;f.make=c}),null);/*FB_PKG_DELIM*/
__d("MWMDotMeReferrerContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var b=a.children;a=a.referrer;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("MWCMComposerNudgeText.react",["fbt","ReQL","ReQLSuspense","TetraText.react","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.thread,e=c("useReStore")();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("messages")).getKeyRange(b.threadKey).filter(function(a){return!a.isAdminMessage&&!a.isUnsent})},[e,b.threadKey]);var f=h._(/*FBT_CALL*/"{megaphoneEmoji} \u0110\u0103ng th\u00f4ng b\u00e1o, quy t\u1eafc nh\u00f3m ho\u1eb7c c\u00e1c th\u00f4ng tin m\u1edbi kh\u00e1c cho th\u00e0nh vi\u00ean."/*FBT_CALL*/,[h._param("megaphoneEmoji",String.fromCodePoint(128227))]);return a.length>0?null:i.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc e5nlhep0 taijpn5t j83agx80 opwvks06 bp9cbjyn",children:i.jsx(c("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.bs",["fbt","CometPressable.react","CurrentUser","MWIcon.react","MWPColorUtils.bs","MWPThreadTheme.bs","ODS","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={circleButton:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"q676j6op",height:"qypqp5cg",backgroundColor:"ovq5dppa",boxShadow:"pkao0ape",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){var c=a.onPress;a=b("MWPThreadTheme.bs").useHook(void 0);var d=a.threadTheme;return i.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"Xem tin nh\u1eafn m\u1edbi \u0111\u00e2y nh\u1ea5t"/*FBT_CALL*/),onPress:function(a){b("bs_curry")._1(c,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:function(a){return[j.circleButton]},children:i.jsx(b("MWIcon.react"),{icon:function(a){a=b("MWPColorUtils.bs").int64ToHex(d.fallbackColor);return i.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:i.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}})})}c=a;f.make=c}),null);
__d("MWMessageList.bs",["CometPagelet.react","LSMessagingThreadTypeUtil.bs","MWChatViewerChatVisibilityHook","MWInboxThreadMessagesSpinner.bs","MWJumpToMostRecentMessageButton.bs","MWMessageRow.bs","MWPAriaLabelForMessageListGrid.bs","MWPInfiniteMessageList.react","MWPMessageListFocusTable.bs","MWThreadCapabilitiesContext.bs","MWV2ChatTypingIndicators.bs","MWV2MessageActionsVisibility.bs","MWVisibleMessageContext.bs","bs_caml","bs_caml_option","cr:4242","react","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:4242")==null?void 0:b("bs_caml_option").some(b("cr:4242"));function j(a){return h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{})}function a(a,c){var d=a.thread,e=a.renderHeader;a=a.renderFooter;var f=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef(void 0),g=b("MWChatViewerChatVisibilityHook")(),k=h.useState(function(){return""}),l=k[1],m=k[0],n=b("useCometUniqueID")(),o=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),p=b("MWPAriaLabelForMessageListGrid.bs").useHook(d);k=b("MWVisibleMessageContext.bs").useHook(void 0);var q=k.visibleMessage,r=h.useMemo(function(){return d.threadType},[JSON.stringify(d.threadType)]);k={thread:d,children:function(a){a=h.jsxs(h.Fragment,{children:[a,g?h.jsx(b("MWV2ChatTypingIndicators.bs").make,{threadKey:d.threadKey,scrollerRefs:void 0}):null]});return h.jsx("div",{"data-testid":"mw_message_list",id:n,children:h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(b("MWThreadCapabilitiesContext.bs").Provider.make,{children:h.jsx(b("MWPMessageListFocusTable.bs").make,{modal:m,setModal:l,children:b("cr:4242")==null?a:h.jsx(i.make,{children:a,id:n}),ariaLabel:p}),thread:d})})})},ref:c,renderRow:function(a){var c=a.message,e=o?b("bs_caml").i64_eq(d.threadKey,c.threadKey):!1;if(q!==void 0){var g=q.source;g=q.messageId===c.messageId&&(g===1||g===2)}else g=!1;return h.jsx(b("MWMessageRow.bs").make,{prevMessage:a.prevMessage,message:c,nextMessage:a.nextMessage,threadType:r,isSecureMessage:e,isModal:m===c.messageId,stopHoveringRef:f,domElementRef:a.domElementRef,hasMessageEmphasisRing:g})},renderJumpToMostRecentMessageButton:function(a){return h.jsx(b("MWJumpToMostRecentMessageButton.bs").make,{onPress:a})},renderLoadingAnimation:j};e!==void 0&&(k.renderHeader=b("bs_caml_option").valFromOption(e));a!==void 0&&(k.renderFooter=b("bs_caml_option").valFromOption(a));return h.jsx(b("MWPInfiniteMessageList.react"),k)}c=h.forwardRef(a);f.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");f.make=c}),null);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","FBID.bs","JSResource","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSThreadTitle.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWMDotMeReferrerContext.bs","MWPActor.bs","MWText.react","MessageSendClickFalcoEvent","P2bDifferentiationPrivacyDisclosureOpenClickFalcoEvent","UseCurrentDisplayMode.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","qex","react","stylex","useCometLazyDialog","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pill:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"m70f1s33",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"},dark_mode_legible_text_pill:{alignItems:"bp9cbjyn",backgroundColor:"khkgorpb",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"m9osqain",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"}};function l(a){var c=a.onClick;a=a.children;var d=b("useCurrentDisplayMode")()===b("UseCurrentDisplayMode.bs").darkTheme;return j.jsx(b("CometPressable.react"),{onPress:c,overlayDisabled:!0,xstyle:function(a){return[d&&b("gkx")("4144")?k.dark_mode_legible_text_pill:k.pill]},children:a})}c={styles:k,make:l};var m={welcome_text:{paddingBottom:"jfpizvyy",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text:{paddingBottom:"ofv0k9yr",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text_offset:{paddingTop:"ecm0bbzt",paddingBottom:"pby63qed"},cta_list:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",justifyContent:"taijpn5t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},cta_list_item:{alignSelf:"o8rfisnq",paddingStart:"tw6a2znq",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",textAlign:"oqcyycmt"},cta_list_item_center:{alignSelf:"o8rfisnq",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"}};function n(a,c,d){var e=b("useReStore")(),f=b("MWPActor.bs").useActor(void 0),g=b("MWMDotMeReferrerContext.bs").useContext(void 0);return j.useCallback(function(h){return function(i){var j=b("LSThreadAttributionTypeUtil.bs").getSource(a.threadKey,c),k=h!==void 0?b("bs_caml").i64_eq(h.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(h.ctaId,i.ctaId):!1,l=k?g:void 0;b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSOptimisticSendMessage")(f,a.threadKey,a.threadType,b("LSMailboxType.bs").messenger,i.title,void 0,void 0,void 0,void 0,void 0,void 0,j,l!==void 0?b("bs_caml_option").valFromOption(l):void 0,i.platformToken!==void 0?b("bs_caml_option").valFromOption(i.platformToken):void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0);var m=b("FBID.bs").ofString(b("bs_int64").to_string(a.threadKey)),n=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:c}}})},o=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{page:{id:c},quick_reply:{id:"",type:64},display:void 0}})};k?n(void 0):o(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[e,f,b("bs_int64").to_string(a.threadKey),c,g])}function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.lsSource;a=a.initiatingSource;f=f!==void 0?f:"unknown";var h=n(c,f,a);f=g._(/*FBT_CALL*/"Nh\u1ea5n \u0111\u1ec3 g\u1eedi"/*FBT_CALL*/);a=g._(/*FBT_CALL*/"Khi b\u1ea1n g\u1eedi tin nh\u1eafn, {name} s\u1ebd nh\u00ecn th\u1ea5y {= public info link} c\u1ee7a b\u1ea1n."/*FBT_CALL*/,[g._param("name",j.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,b){return b}})),g._param("= public info link",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/719578818758231",color:"primary",target:"_blank",role:"link",children:j.jsx(b("MWText.react"),{type:"body4",children:g._(/*FBT_CALL*/"public info"/*FBT_CALL*/)})}))]);var k=d.privacyText;k=k!==void 0?j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:k}):null;var o=b("useCometLazyDialog")(b("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2ThreadNullstate.bs")),p=o[0];o=d.privacyTextCtaTitle;o=j.jsx(b("CometLink.react"),{color:"primary",target:"_blank",role:"link",children:o!==void 0?j.jsx(b("MWText.react"),{color:"blueLink",type:"body4",children:o}):null,onClick:function(a){p(function(a){return{onClose:function(a){}}},function(a){}),b("P2bDifferentiationPrivacyDisclosureOpenClickFalcoEvent").log(function(a){return{page_id:b("bs_caml_int64").to_int32(c.threadKey),consumer_id:0,entry_point:"NULL_STATE"}})}});var q=d.welcomeText,r=d.privacyText;q=j.jsxs("div",{children:[q!==void 0?e.length!==0?q!==f.toString()?j.jsxs("div",{children:[j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:q})}),j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:f})})]}):j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):q!==f.toString()?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:q})}):null:e.length!==0?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):null,j.jsx("ul",{className:(i||(i=b("stylex")))(m.cta_list),children:e.map(function(a){var c=b("bs_caml").i64_eq(d.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.ctaId,a.ctaId);return j.jsx("li",{className:(i||(i=b("stylex")))(m.cta_list_item,c?m.cta_list_item_center:!1),children:j.jsx(l,{onClick:function(c){return b("bs_curry")._2(h,d,a)},children:a.title})},b("bs_int64").to_string(a.ctaId))})}),r!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(m.privacy_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b("bs_caml_obj").caml_equal(b("qex")._("621"),!0)&&b("bs_caml").i64_eq(d.privacyTextCtaType,b("LSNullstateCTAType.bs").privacyDisclosure)?j.jsxs(j.Fragment,{children:[k," ",o]}):a})}):null]});if(b("gkx")("4144"))return j.jsx(b("CometScrollableArea.react"),{xstyle:m.privacy_text_offset,children:q});else return q}d=a;f.Pill=c;f.styles=m;f.useSendIcebreakerMessage=n;f.make=d}),null);
__d("MWV2PersistentIcebreakers.bs",["MWChatBusinessQuickReplyList.bs","MWPThreadTheme.bs","MWV2ThreadNullstate.bs","bs_caml_int64","bs_curry","bs_int64","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d){if(c.length!==0&&((d|0)-b("bs_caml_int64").to_int32(a.lastActivityTimestampMs)|0)>=216e5)return b("gkx")("4144");else return!1}function c(a){var c=a.thread,d=a.nullstateCtas,e=a.lsSource;a=a.initiatingSource;e=e!==void 0?e:"unknown";var f=b("MWV2ThreadNullstate.bs").useSendIcebreakerMessage(c,e,a);c=b("MWPThreadTheme.bs").useHook(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatBusinessQuickReplyList.bs").styles.container,b("MWPThreadTheme.bs").isGradient(c)?b("MWChatBusinessQuickReplyList.bs").styles.mask:!1),children:i.jsx("ul",{className:h(b("MWChatBusinessQuickReplyList.bs").styles.pillContainerVertical),children:d.map(function(a){if(a.ctaType==="nullstate_icebreaker")return i.jsx("li",{className:(h||(h=b("stylex")))(b("MWV2ThreadNullstate.bs").styles.cta_list_item),children:i.jsx(b("MWV2ThreadNullstate.bs").Pill.make,{onClick:function(c){return b("bs_curry")._2(f,void 0,a)},children:a.title})},b("bs_int64").to_string(a.ctaId));else return null})})})}d=c;f.shouldShowPersistentIcebreakers=a;f.make=d}),null);
__d("MWOpenThreadDetail.bs",["LSMessagingInitiatingSourceHook.bs","MWChatUnsendNUX.bs","MWMessageList.bs","MWPMessageListColumn.bs","MWV2ContextBanner.bs","MWV2PersistentIcebreakers.bs","MWV2QuickReplies.bs","MWV2ThreadNullstate.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","ServerTime","bs_caml","bs_caml_int64","cr:1374","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("thread_nullstate")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)])),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(c.table("thread_nullstate_ctas").index("threadKeyCtaId")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]));return[d,e]}function a(a){var c=a.thread;a=a.messageListRef;var d=h.useState(function(){return b("ServerTime").getMillis()}),e=i(c),f=e[1];e=e[0];var g=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),j=b("cr:1374")==null?null:h.jsx(b("cr:1374").make,{thread:c}),k=b("useReStore")(),l=c.threadKey,m=b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(k.table("messages")),{hd:l,tl:0})},[k,l]),n=b("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(c,f,d[0]);d=h.useCallback(function(a){return h.jsxs(h.Fragment,{children:[m!==void 0?h.jsx(b("MWV2QuickReplies.bs").Impl.make,{lastMessageId:m.messageId,threadKey:l,quickReplyType:m.quickReplyType}):null,n?h.jsx(b("MWV2PersistentIcebreakers.bs").make,{thread:c,nullstateCtas:f,lsSource:"inboxInThread",initiatingSource:g}):null]})},[m]);var o=h.useCallback(function(a){return h.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:20}),h.jsx(b("MWV2ContextBanner.bs").make,{thread:c}),h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:10})]})},[c]);return e!==void 0&&b("bs_caml").i64_eq(c.lastActivityTimestampMs,b("bs_caml_int64").zero)?h.jsxs(h.Fragment,{children:[j,h.jsx(b("MWV2ContextBanner.bs").make,{thread:c}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2ThreadNullstate.bs").make,{thread:c,nullstate:e,nullstateCtas:f,lsSource:"inboxInThread",initiatingSource:g})]}):h.jsxs(h.Fragment,{children:[j,h.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),h.jsx(b("MWMessageList.bs").make,{thread:c,renderHeader:o,renderFooter:d,ref:a})]})}c=b("cr:1374");d=a;f.$MWV2ArmadilloDogfoodingUpsell$requireCondXplat=b("cr:1374");f.mwv2ArmadilloDogfoodingUpsell=c;f.make=d}),null);
__d("MWOpenAndSecureThreadView.bs",["LSMessagingThreadTypeUtil.bs","MWOpenThreadDetail.bs","MWPThreadGradientBackground.bs","cr:490","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.messageListRef;var d,e=0;b("cr:490")==null||!b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?e=1:d=h.jsx(b("cr:490").make,{thread:c});e===1&&(d=h.jsx(b("MWOpenThreadDetail.bs").make,{thread:c,messageListRef:a}));return h.jsx(b("MWPThreadGradientBackground.bs").make,{children:d})}c=b("cr:490");d=a;f.$MAWSecureThreadDetailWrapper$requireCondXplat=b("cr:490");f.mawSecureThreadDetailWrapper=c;f.make=d}),null);
__d("MWV2ComposerDisclosure.bs",["BootloaderResource","CometErrorBoundary.re","CometPlaceholder.react","FBID.bs","JSResource","LS.bs","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LSVec","LsMessageRequestsActions.bs","LsSystemFolder.bs","MWChatComposerGroupMessageRequestInfoText.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils.bs","MWLSThreadDisplayContext.bs","MWLSThreadFolder.bs","MWPActor.bs","MessageRequestsLog.bs","MessagingThreadType.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:60","cr:958","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:60")==null?function(a,b){return!1}:b("cr:60").useIsOneOnOneMessageRequestV2;function j(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0);return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,b("LSVec").make([d]),b("LS.bs").make(c))},"readWrite"),void 0,void 0)},[JSON.stringify(a.threadKey)])}var k=b("JSResource")("MAWComposerUserMessageRequestInfoText.bs").__setRef("MWV2ComposerDisclosure.bs");function a(a,b,c){return{thread:a,size:b}}function l(a){return h.createElement(b("BootloaderResource").read(k).make,a)}d={reasonResource:k,makeProps:a,make:l};function m(a){var c=a.thread,d=a.participantsAndContacts;a=a.forceVoiceIndicatorShown_TEST_ONLY;var e=b("useReStore")(),f=b("MWChatStateV2.bs").useDispatch(void 0),g=b("MWLSThreadDisplayContext.bs").useHook(void 0);g=g==="Inbox"?"large":"small";var k=j(c),m=b("MWLSThreadFolder.bs").useHook(void 0),n=m==="pending"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other),o=c.threadType,p=c.threadKey,q=h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSOptimisticRemoveThread")(p,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(a))},"readWrite"),function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),p))},void 0)},[b("bs_int64").to_string(p),e]);m=h.useCallback(function(a){b("MessageRequestsLog.bs").logActionConfirmed(b("bs_int64").to_string(p),b("bs_caml_int64").to_int32(o),n,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").delete_));return b("bs_curry")._1(q,void 0)},[q,b("bs_int64").to_string(p),b("bs_int64").to_string(o),n]);var r=b("LSMessagingThreadTypeUtil.bs").isSecure(o),s=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),t=b("MWPActor.bs").useActor(void 0),u=h.useMemo(function(){return b("bs_caml_option").undefined_to_opt(d.find(function(a){return b("bs_caml").i64_neq(a[1].id,t)}))},[t,d]),v=h.useMemo(function(){if(r)return b("bs_curry")._2(i,c,u);else return!1},[c,u,r]),w=b("LSMessagingThreadTypeUtil.bs").isGroup(o),x=h.useMemo(function(){return d.some(function(a){return b("MWLSContactTypeExactUtils.bs").isIgContact(a[1])})},[d]);if(v)v=h.jsx(l,{thread:c,size:"large"});else if(!r&&s)if(w)v=h.jsx(b("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:m,onLeaveGroup:function(a){b("MessageRequestsLog.bs").logActionConfirmed(b("bs_int64").to_string(p),b("bs_caml_int64").to_int32(b("MessagingThreadType.bs").group),n,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").leaveGroup));return b("bs_curry")._1(k,void 0)},isGXAC:x});else{s=b("FBID.bs").ofStringExn(b("bs_int64").to_string(p));v=h.jsx(b("MWLSChatComposerUserMessageRequestInfoText.bs").make,{fbid:s,onDeleteConversation:m})}else v=!r&&x&&b("gkx")("1839788")?h.jsx(b("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative),size:g}):null;return h.jsxs(h.Fragment,{children:[b("cr:958")==null?null:h.jsx(b("cr:958").make,{forceShown_TEST_ONLY:a}),v]})}e={make:m};function c(a){var c=a.thread,d=a.participantsAndContacts;a=a.forceVoiceIndicatorShown_TEST_ONLY;a=a!==void 0?a:!1;return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(m,{thread:c,participantsAndContacts:d,forceVoiceIndicatorShown_TEST_ONLY:a}),fallback:null})})}a=c;f.$MAWMessageRequestUtil$requireCond=b("cr:60");f.useLeaveGroup=j;f.MAWComposerUserMessageRequestInfoTextLazy=d;f.$MWChatComposerVoiceIndicator$requireCond=b("cr:958");f.Impl=e;f.make=a}),null);
__d("MWV2DisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","FBID.bs","JSResource","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWPActor.bs","MessagingThreadType.bs","TetraButton.react","bs_curry","bs_int64","fbicon","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=b("LSMessagingSource.bs").useHook(void 0);return j.useCallback(function(a){return function(f,g){var h=b("LSTransaction.bs").run(c,function(c){var h=b("LSThreadAttributionTypeUtil.bs").getSource(a,e);return b("LSOptimisticSendMessage")(d,a,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,f,f,!1,void 0,void 0,void 0,void 0,h,void 0,g,void 0,b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d])}function a(a){a=a.thread;var c=k(void 0),d=a.threadKey,e=function(a){var e=a.title;a=a.id;return b("bs_curry")._3(c,d,e,a)};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.bs"),popoverProps:{onClose:function(a){},onSelect:e,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))},align:"middle",children:function(a,c,d,e,f,i,k){return j.jsx("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80",ref:a,children:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("512878"),20),label:g._(/*FBT_CALL*/"Menu"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0})})}})}c=a;f.make=c}),null);
__d("MWV2OpenComposer.bs",["MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","MWV2OpenMediaStaging.bs","MWV2OpenTypingState.bs","MWV2UseOnAttachmentsAddedOpen.bs","MWV2UseOnAttachmentsRemovedOpen.bs","bs_curry","cr:854","cr:987","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i;if(b("cr:987")==null)if(b("cr:854")==null)i=b("unrecoverableViolation")("Unable to load onSend hook","messenger_web_product");else{var j=b("cr:854").useOnSendOpenMessage;i=function(c){var a=b("bs_curry")._1(j,c);return function(c){return b("bs_curry")._2(a,c,void 0)}}}else{var k=b("cr:987").useOnSendOpenMessage;i=function(a){var c=b("bs_curry")._1(k,a);return function(a){return b("bs_curry")._2(c,a,void 0)}}}var l=h.forwardRef(function(a,c){var d=a.thread,e=a.isPreviewThread,f=a.afterSendMessage;a=a.onSendEmptyMessage;var g=h.useContext(b("MWPReplyContext.bs").context);g=g.reply;var j=b("MWV2UseOnAttachmentsAddedOpen.bs").useOnAttachmentsAdded(d),k=b("MWV2UseOnAttachmentsRemovedOpen.bs").useOnAttachmentsRemoved(void 0),l=b("bs_curry")._2(i,d,f);f=b("MWV2OpenTypingState.bs").useOnTypingStateChanged(d);h.useImperativeHandle(c,function(){return b("bs_curry").__1(j)},[j]);var m=b("MWV2OpenMediaStaging.bs").useMediaStaging(d);return h.jsxs("div",{children:[g!==void 0?h.jsx(b("MWV2ComposerReplyView.bs").make,{thread:d,messageId:g.messageId,messageTimestamp:g.timestampMs}):null,h.jsx(b("MWPComposerEditor.bs").make,{thread:d,isPreviewThread:e,mediaStaging:m,onSendMessage:l,onSendEmptyMessage:a,onAttachmentsAdded:j,onAttachmentRemoved:k,onTypingStateChanged:f,children:function(a,c,e,f,g,i){return h.jsx(b("MWV2ComposerView.bs").make,{thread:d,editor:a,surface:c,policyProduct:e,mediaStaging:m,onSendMessage:l,onAttachmentsAdded:j,onAttachmentRemoved:k,supportedFileTypes:void 0,hasStuffToSend:f,editorElementRef:g,sendMessage:i})},surface:"mwp_mwv2_composer",policyProduct:"messaging_lightswitch"})]})});c={make:l};function m(a){}function a(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:m;a=a!==void 0?a:m;var f=h.useContext(b("MWV2FileDropzone.bs").context);return h.jsx(l,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a,ref:f})}d=a;f.$MWV2SendOpenMessageV2$OR$null$requireCond=b("cr:854");f.$null$OR$MWV2SendOpenMessage$requireCond=b("cr:987");f.Inner=c;f.make=d}),null);
__d("MWV2ComposerCommon.bs",["fbt","BootloaderResource","CometErrorBoundary.re","CometPlaceholder.react","CometProgressRingIndeterminate.react","FBID.bs","JSResource","LSAuthorityLevel.bs","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSContactReachabilityStatusType.bs","LSMessagingThreadTypeUtil.bs","LSNullstateCTAType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWDualSendPermissionsManager.bs","MAWGating.bs","MAWLoadingStateContext.bs","MAWThreadCutover.bs","MWCMComposerNudgeText.react","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWChatUnavailableComposer.bs","MWLSFeatureLimitedStatus.bs","MWLSThreadReportingToken.bs","MWPActor.bs","MWPParticipantsAndContactsForThread.bs","MWV2ComposerDisclosure.bs","MWV2DisabledPageComposer.bs","MWV2ErrorComposer.bs","MWV2OpenComposer.bs","MWV2ThreadIsPage.bs","MessengerThreadCannotReplyReason","ReQL.bs","ReQLSubscription.bs","RecoverableViolation.react","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_int64","cr:2885","cr:3687","cr:3688","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MWV2ComposerCommon.bs");function a(a){return{}}function l(a){return j.createElement(b("BootloaderResource").read(k).make,a)}a={reasonResource:k,makeProps:a,make:l};var m=b("JSResource")("MWChatLeftGroupComposer.bs").__setRef("MWV2ComposerCommon.bs");function c(a,c){c={};a!==void 0&&(c.thread=b("bs_caml_option").valFromOption(a));return c}function n(a){return j.createElement(b("BootloaderResource").read(m).make,a)}c={reasonResource:m,makeProps:c,make:n};var o=b("JSResource")("MWCMGroupMutedComposer.bs").__setRef("MWV2ComposerCommon.bs");function d(a,c){c={};a!==void 0&&(c.size=b("bs_caml_option").valFromOption(a));return c}function p(a){return j.createElement(b("BootloaderResource").read(o).make,a)}d={reasonResource:o,makeProps:d,make:p};var q=b("JSResource")("MWCMGroupBroadcastComposer.bs").__setRef("MWV2ComposerCommon.bs");function e(a){return{}}function r(a){return j.createElement(b("BootloaderResource").read(q).make,a)}e={reasonResource:q,makeProps:e,make:r};var s=b("JSResource")("MWChatRestrictedComposer.bs").__setRef("MWV2ComposerCommon.bs");function t(a,b,c,d){return{fbid:a,thread:b,threadKey:c}}function u(a){return j.createElement(b("BootloaderResource").read(s).make,a)}var v={reasonResource:s,makeProps:t,make:u},w=b("JSResource")("MWChatBlockedComposer.bs").__setRef("MWV2ComposerCommon.bs");function x(a,c,d,e,f,g){g={fbid:a,thread:c,reportingToken:d};e!==void 0&&(g.size=b("bs_caml_option").valFromOption(e));f!==void 0&&(g.isReachable=b("bs_caml_option").valFromOption(f));return g}function y(a){return j.createElement(b("BootloaderResource").read(w).make,a)}var z={reasonResource:w,makeProps:x,make:y},A=b("JSResource")("MWChatCutoverComposer.bs").__setRef("MWV2ComposerCommon.bs");function B(a,c){c={};a!==void 0&&(c.thread=b("bs_caml_option").valFromOption(a));return c}function C(a){return j.createElement(b("BootloaderResource").read(A).make,a)}B={reasonResource:A,makeProps:B,make:C};var D={placeholder:{borderTop:"opwvks06"}};function E(a){a=a.height;return j.jsx("div",{className:(i||(i=b("stylex")))(D.placeholder),style:{height:a.toString()+"px"}})}var F={styles:D,make:E},G=b("cr:2885")==null?void 0:b("bs_caml_option").some(b("cr:2885")),H=b("cr:3687")==null?void 0:b("bs_caml_option").some(b("cr:3687")),I=b("cr:3688")==null?void 0:b("bs_caml_option").some(b("cr:3688"));function J(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;var f=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),g=b("MAWDualSendPermissionsManager.bs").useIsThreadEligible(c.threadKey,c.threadType),h=0,i;if(b("cr:2885")==null)i=3;else{if(f)return j.jsx(b("cr:2885").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a});i=3}if(i===3)if(b("cr:3687")==null)h=2;else{if(g)return j.jsx(b("cr:3687").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a});h=2}return h===2&&!(b("cr:3688")==null)&&g?j.jsx(b("cr:3688").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a}):j.jsx(b("MWV2OpenComposer.bs").make,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a})}G={secureComposer:G,oneToOneDualSendComposer:H,groupDualSendComposer:I,make:J};function K(a){var c=a.thread,d=a.afterSendMessage,e=a.onSendEmptyMessage,f=a.isPreviewThread;a=a.participantsAndContacts;var g=b("bs_caml_obj").caml_equal(c.cannotReplyReason,b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED),h=b("bs_caml_obj").caml_equal(c.cannotReplyReason,"broadcast_chat_read_only"),i=b("MWCMUseFolder.bs").useHook(c);if(i!==void 0){i=i.sendsBlockedUntil;i=i!==void 0?b("bs_caml").i64_neq(i,b("bs_caml_int64").zero):!1}else i=!1;var k=b("MAWThreadCutover.bs").useIsCutoverOpenThread(c.threadKey)||b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").cutoverBlockComposer,c);if(k)return j.jsx(C,{});else if(g&&b("gkx")("408"))return j.jsx(n,{});else if(b("MWCMThreadTypes.bs").isBroadcastThread(c.threadType)&&h)return j.jsx(r,{});else if(i)return j.jsx(p,{size:"small"});else return j.jsxs(j.Fragment,{children:[b("MWCMThreadTypes.bs").isBroadcastThread(c.threadType)&&!h?j.jsx(b("MWCMComposerNudgeText.react"),{thread:c}):null,j.jsx(b("MWV2ComposerDisclosure.bs").make,{thread:c,participantsAndContacts:a}),j.jsx(J,{thread:c,isPreviewThread:f,afterSendMessage:d,onSendEmptyMessage:e})]})}H={make:K};function L(a){var c=a.thread,d=a.otherUser,e=a.afterSendMessage,f=a.onSendEmptyMessage,g=a.isPreviewThread;a=a.participantsAndContacts;var h=b("MWLSThreadReportingToken.bs").fromThread(c),i=b("bs_caml").i64_neq(d.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked),k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").message,d),!0),l=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").replyMessage,d),!0),m=b("MWV2ThreadIsPage.bs").useIsPage(void 0);m=!m&&(!k||!l);k=d.blockedSinceTimestampMs;l=k!==void 0?!1:m;k=d.contactReachabilityStatusType;m=k!==void 0?b("bs_caml").i64_eq(b("LSContactReachabilityStatusType.bs").reachable,k):!0;k=b("gkx")("3846")&&b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,d),!1);var n=b("MAWThreadCutover.bs").useIsCutoverOpenThread(c.threadKey)||b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").cutoverBlockComposer,c);if(n)return j.jsx(C,{});else if(m)if(i)return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(y,x(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.id)),c,h,void 0,void 0,void 0)),fallback:j.jsx(E,{height:189})});else if(k)return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(u,t(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.id)),c,c.threadKey,void 0)),fallback:j.jsx(E,{height:128})});else if(l)return j.jsx(b("MWChatUnavailableComposer.bs").make,{});else return j.jsxs(j.Fragment,{children:[j.jsx(b("MWV2ComposerDisclosure.bs").make,{thread:c,participantsAndContacts:a}),j.jsx(J,{thread:c,isPreviewThread:g,afterSendMessage:e,onSendEmptyMessage:f})]});else return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(y,x(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.id)),c,void 0,void 0,!1,void 0)),fallback:j.jsx(E,{height:35})})}I={make:L};var M={loadingStatus:{maxWidth:"gfl2vlpq",wordBreak:"qv66sw1b",fontSize:"jagab5yi",lineHeight:"eagtllmd",color:"pipptul6",textAlign:"oqcyycmt",marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5",position:"l9j0dhe7",alignItems:"bp9cbjyn",fontWeight:"n3ffmt46"},spinner:{height:"o6xaf3tw",display:"j83agx80",justifyContent:"taijpn5t",paddingBottom:"a5h7je3r"}},N={};function O(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;var f=b("useReStore")(),h=b("MWPActor.bs").useActor(void 0),k=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("thread_nullstate")),{hd:c.threadKey,tl:0})},[f,JSON.stringify(c.threadKey)]));k=k!==void 0?b("bs_caml").i64_eq(k.ctaType,b("LSNullstateCTAType.bs").getStarted):!1;var m=b("bs_caml").i64_neq(c.lastActivityTimestampMs,b("bs_caml_int64").zero),n=b("MWPParticipantsAndContactsForThread.bs").useValue(c),o=b("bs_caml").i64_eq(h,c.threadKey),p=j.useMemo(function(){if(!b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return;if(n.length===1){var a=n[0];if(o)return a}return b("bs_caml_option").undefined_to_opt(n.find(function(a){return b("bs_caml").i64_neq(a[1].id,h)}))},[JSON.stringify(h),o,n]),q=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),r=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!q||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),s=j.jsxs("div",{children:[j.jsx("div",{className:(i||(i=b("stylex")))(M.spinner),children:j.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),j.jsx("div",{className:i(M.loadingStatus),children:g._(/*FBT_CALL*/"Loading more messages..."/*FBT_CALL*/).toString()})]}),t=j.useContext(b("MAWLoadingStateContext.bs").context);return j.jsxs(j.Fragment,{children:[b("MAWGating.bs").isWebLoadStateEnabled(void 0)&&t&&q?s:null,k&&!m?null:c.disableComposerInput&&c.hasPersistentMenu?j.jsx(b("MWV2DisabledPageComposer.bs").make,{thread:c}):r?j.jsx(l,{}):b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)?p!==void 0?j.jsx(L,{thread:c,otherUser:p[1],afterSendMessage:e,onSendEmptyMessage:a,isPreviewThread:d,participantsAndContacts:n}):b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)?null:j.jsx(b("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):j.jsx(K,{thread:c,afterSendMessage:e,onSendEmptyMessage:a,isPreviewThread:d,participantsAndContacts:n})]})}N={styles:M,CometProgressRingIndeterminate:N,make:O};function P(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;return j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return j.jsx(b("MWV2ErrorComposer.bs").make,{})},children:j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("MWV2ThreadIsPage.bs").make,{thread:c,children:j.jsx(O,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a})}),fallback:null})})}P=P;f.MWChatFeatureLimitsBlockedComposerLazy=a;f.MWChatLeftGroupComposerLazy=c;f.MWCMGroupMutedComposerLazy=d;f.MWCMGroupBroadcastComposerLazy=e;f.MWChatRestrictedComposerLazy=v;f.MWChatBlockedComposerLazy=z;f.MWChatCutoverComposerLazy=B;f.Placeholder=F;f.$MAWSecureComposer$requireCondXplat=b("cr:2885");f.$MWV2DualSendComposer$requireCond=b("cr:3687");f.$MWV2DualSendComposer$requireCond$1=b("cr:3688");f.ActualComposer=G;f.GroupComposer=H;f.OneToOneComposer=I;f.Impl=N;f.make=P}),null);/*FB_PKG_DELIM*/
__d("useSecureMessageSendTime",["MAWGating.re","MAWStateContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useDebugValue;function a(a){if(!d("MAWGating.re").isDebugUIEnabled())return void 0;a=d("MAWStateContext.react").useStaleMAWStateWithoutRerendering().messageLatencies[a]||{};var b=a.acked;a=a.sent;b=b!==void 0?b-a:void 0;h(b);return b}g["default"]=a}),98);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;e=d+14|0;var j={bubble:{maxWidth:"odn2s2vf",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}},incoming_connect_top:{":after":{borderTopStartRadius:"efeyjaql"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"dcchegku"}},outgoing_connect_top:{":after":{borderTopEndRadius:"qyep8gqv"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"af2nlw56"}},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",":after":{borderBottomEndRadius:"iep0m7mp",borderBottomStartRadius:"pgkcj7gb"}}};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,d?a?j.outgoing_connect_top:j.incoming_connect_top:!1,!f&&e?a?j.outgoing_connect_bot:j.incoming_connect_bot:!1,f?j.precedes_xma:!1),children:c})}var k=18;a=a;f.baseSize=k;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=j;f.make=a}),null);
__d("MWV2ChatBubble.bs",["MAWGating.bs","MWLSThreadDisplayContext.bs","MWPColorUtils.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","MWV2MessageHasReply.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{display:"j83agx80",borderTop:"dmyp13bq",borderEnd:"ndhlz62r",borderBottom:"ncbqlf8d",borderStart:"s0vq2i2w",maxWidth:"blud8cpg",position:"l9j0dhe7",backgroundColor:"g5ia77u1",":before":{content:"g25sr70m",display:"jdo7v6z6",position:"lzm9zonv",top:"hlthg0ru",bottom:"bukg358c",start:"nsmdno57",end:"p8m4tlpt",borderTopStyle:"fboblok7",borderEndStyle:"hooc0cby",borderBottomStyle:"bblsj9ze",borderStartStyle:"sj46kbig",borderTopWidth:"ek0ugbdb",borderEndWidth:"dpj2ryut",borderBottomWidth:"rq41jfz2",borderStartWidth:"t1qoqrst",borderTopColor:"ctd5sy3o",borderEndColor:"t7740pma",borderBottomColor:"h01b6lxl",borderStartColor:"is8i6zgj",opacity:"f9zxapb0",borderTopStartRadius:"o5g7ym2r",borderTopEndRadius:"swnt2q8t",borderBottomEndRadius:"egy40mqu",borderBottomStartRadius:"m3lz4j07",pointerEvents:"szx2nxjd",zIndex:"c4u49bkg"},":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"e15w2yfi",bottom:"jdr4sxky",start:"opatuxy4",end:"jj6iul7h",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"avvvbj8i",borderEndWidth:"qc19tv0c",borderBottomWidth:"seh407zj",borderStartWidth:"mgkhc2l0",borderTopColor:"qu1lfhdz",borderEndColor:"h2zxmtvk",borderBottomColor:"r13p1xmt",borderStartColor:"thnup18q",borderTopStartRadius:"tdsjupxz",borderTopEndRadius:"o6z0k5ic",borderBottomEndRadius:"m0ai3fox",borderBottomStartRadius:"t06v70oj",pointerEvents:"yfudjqg5",zIndex:"sebibeov"}},emphasis_ring_before_xma:{borderBottom:"humdl8nn",":before":{borderBottom:"dwjjxrjg",borderBottomStartRadius:"vha61xgp",borderBottomEndRadius:"cninlv0n"},":after":{borderBottom:"h4hm3dj4",borderBottomStartRadius:"pgkcj7gb",borderBottomEndRadius:"iep0m7mp"}},emphasis_ring_xma:{width:"gaoewp0a",borderTop:"gcieejh5",":before":{borderTop:"bsyhajyn",borderTopStartRadius:"rlntl7br",borderTopEndRadius:"rgkwebxj"},":after":{borderTop:"q22nnh5l",borderTopStartRadius:"lm7vadms",borderTopEndRadius:"s6fxew23"}},emphasis_ring_connect_top_outgoing:{":before":{borderTopEndRadius:"m2bnzw1h"},":after":{borderTopEndRadius:"mk1s9yjy"}},emphasis_ring_connect_top_incoming:{":before":{borderTopStartRadius:"izwkhwj2"},":after":{borderTopStartRadius:"i7jao9op"}},emphasis_ring_connect_bottom_outgoing:{":before":{borderBottomEndRadius:"aultcim1"},":after":{borderBottomEndRadius:"lgl5u3oa"}},emphasis_ring_connect_bottom_incoming:{":before":{borderBottomStartRadius:"mfjs0nqm"},":after":{borderBottomStartRadius:"qrw7h0bf"}}};function k(a,c){if(c)return{backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing;a=a.threadTheme;a=k(a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:a,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}c={useInlineStyles:k,make:l};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("bs_caml_obj").caml_notequal(e,"Inbox"),g=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor),backgroundImage:b("MWPColorUtils.bs").gradient(c,f?{headerHeight:b("MAWGating.bs").isArmadillo(void 0)?32:48,totalHeight:g?570:455,footerHeight:56}:void 0,void 0)};else if(d)return{backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,g])}function n(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.threadTheme;a=a.gradientColors;h=m(h,a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:h,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}d={useInlineStyles:m,make:n};function o(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx(b("MWPTransparentMessageBubble.bs").make,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:a})}e={make:o};function p(a){var c=a.children,d=a.shouldConnectTop,e=a.shouldConnectBottom,f=a.isBeforeXMA,g=a.hasXMA;a=a.isOutgoing;f=[j.emphasis_ring,f?j.emphasis_ring_before_xma:e?a?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,g?d?j.emphasis_ring_xma:!1:d?a?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[f]),"data-testid":"emphasis-ring",children:c})}var q={make:p};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWPThreadTheme.bs").useHook(void 0),k=j.gradientColors;j=j.threadTheme;h=b("MWV2MessageHasReply.bs").make(h);h=h?i.jsx(n,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j,gradientColors:k}):g&&k.length>1?i.jsx(o,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g}):i.jsx(l,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j});if(a)return i.jsx(p,{children:h,shouldConnectTop:d,shouldConnectBottom:e,isBeforeXMA:f,hasXMA:!1,isOutgoing:g});else return h}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=e;f.EmphasisRing=q;f.make=a}),null);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWPThreadTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",paddingBottom:"r8blr3vg"},mask:{backgroundColor:"nred35xi"},spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},heads:{flexShrink:"pfnyh3mw",display:"j83agx80",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"dicw6rsg",marginStart:"hcukyx3x"},img:{verticalAlign:"sf5mxxl7",width:"gab7stmx",height:"i4qgphn6",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",paddingStart:"abpf7j7b",paddingEnd:"exrn9cbp"},overflow:{backgroundColor:"tdjehn4e",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"m9osqain",fontSize:"r9r71o1u",fontWeight:"n3ffmt46",lineHeight:"eagtllmd",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus",textAlign:"oqcyycmt"}};function l(a,c){var d=a.length,e=d>5;d=Math.max(d-(e?4:5)|0,0);var f=a.slice(d);if(e){e=Math.max(d-9|0,0);a=a.slice(e,d);var h="\n"+g._(/*FBT_CALL*/{"*":"v\u00e0 {Number of additional views} ng\u01b0\u1eddi n\u1eefa"}/*FBT_CALL*/,[g._param("Number of additional views",e,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),e>0?j.jsx("li",{children:h},"overflow"):null]});e=j.jsx(b("MWTooltip.react"),{tooltip:a,align:function(){switch(b("bs_caml_obj").caml_equal(c,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._(/*FBT_CALL*/{"*":"+{the number of additional viewers}"}/*FBT_CALL*/,[g._param("the number of additional viewers",d,[0])])}),forceInlineDisplay:!0},"overflow")}else e=null;return b("bs_array").append([e],f.map(function(a,d){var e=a.timestamp>0?g._(/*FBT_CALL*/{"*":"{full name} \u0111\u00e3 xem l\u00fac {seen time}"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._(/*FBT_CALL*/{"*":"{full name} \u0111\u00e3 xem"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWTooltip.react"),{tooltip:e,align:function(){switch(b("bs_caml_obj").caml_equal(c,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:d}):j.jsx("img",{className:(i||(i=b("stylex")))(k.img),alt:e,src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWPThreadTheme.bs").useHook(void 0);var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length,m=b("MWLSThreadDisplayContext.bs").useHook(void 0),n=j.useRef(null);return j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.root,b("MWPThreadTheme.bs").isGradient(a)?k.mask:!1),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{name:"MWV2ChatSeenHeadsDialog","class":"fluid"}).__setRef("MWV2ChatSeenHeadsRow.bs"),dialogProps:{onClose:function(a){},messageSeenBy:c},children:function(a){return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"{number of participants who have seen this message} ng\u01b0\u1eddi tham gia \u0111\u00e3 xem"/*FBT_CALL*/,[g._param("number of participants who have seen this message",String(h))]).toString(),ref:n,onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWTooltipGroup.react"),{children:l(c,m)})})}})]})}c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d}),null);
__d("MWV2MessageEndOfGroupContent.bs",["fbt","MWMessageDeliveryStatus.bs","MWPMessageListColumn.bs","MWText.react","MWV2ChatSeenHeadsRow.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={statusText:{paddingTop:"ecm0bbzt",paddingBottom:"sj5x9vvc",paddingEnd:"dflh9lhu"}};function l(a){var c=a.text;a=a.error;a=a!==void 0?a:!1;return j.jsx("span",{role:"none",className:(i||(i=b("stylex")))(k.statusText),children:j.jsx(b("MWText.react"),{align:"end",color:a?"negative":"secondary",type:"meta4",children:c})})}c={make:l};function m(a){a=a.num;return j.jsx(l,{text:g._(/*FBT_CALL*/"Seen by {seenByNumber}"/*FBT_CALL*/,[g._param("seenByNumber",String(a))]).toString()})}d={make:m};function a(a){var c=a.status;a=a.isTextOnly;a=a!==void 0?a:!1;var d=b("MWMessageDeliveryStatus.bs").getBroadcastStatusTitle(c);if(!a)if(typeof c==="number"||c.TAG!==1)return null;else return j.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:j.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:c._0})});if(typeof c==="number")switch(c){case 0:return null;case 4:return j.jsx(l,{text:d,error:!0});default:return j.jsx(l,{text:d})}else switch(c.TAG|0){case 0:return j.jsx(m,{num:1});case 1:case 2:break}return j.jsx(m,{num:c._0.length})}e=a;f.styles=k;f.MWStatusText=c;f.MWSeenByText=d;f.make=e}),null);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","gkx","react","useSecureMessageSendTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.message;a=a.children;var d=b("useSecureMessageSendTime")(c.messageId),e=i.useMemo(function(){var a=c.unsentTimestampMs,e=c.isUnsent;return a!==void 0&&e?i.jsxs("div",{children:[i.jsx("div",{children:g._(/*FBT_CALL*/"G\u1eedi v\u00e0o {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])}),i.jsx("div",{children:b("gkx")("1531920")?g._(/*FBT_CALL*/"Th\u1eddi gian thu h\u1ed3i: {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))]):g._(/*FBT_CALL*/"G\u1ee1 v\u00e0o {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))])})]}):i.jsxs("div",{children:[i.jsx("div",{children:!(d==null)&&d>0?"Send Latency: "+d.toString()+"ms":null}),i.jsx("div",{children:g._(/*FBT_CALL*/"{time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])})]})},[c]);return i.jsx(b("MWTooltip.react"),{tooltip:e,align:"middle",position:"start",children:a})}c=a;f.make=c}),null);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:385","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var d=h.useMemo(function(){var a=b("qex")._("1546");a=a==null||a!=="dynamic"?32:b("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(c.hotEmojiSize);return b("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[c.hotEmojiSize]),e=c.text;if(e===void 0)return null;e=b("cr:385")==null?e:b("bs_curry")._1(b("cr:385").unvault,e);e=h.jsx(b("CometTextWithEntities.react"),{withParagraphs:!0,text:e,transforms:d});if(a)return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:e,shouldConnectTop:!1,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:!1,isOutgoing:!1});else return e}c=a;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("MWV2ChatUnsentMessage.bs",["fbt","CometPressable.react","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWLSThread.bs","MWText.react","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","XCometGroupAdminActivitiesControllerRouteBuilder","bs_curry","bs_int64","cr:1284","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={linkText:{paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingEnd:"p8fzw8mz",paddingStart:"pcp91wgn"}};function k(a){var c=a.attachment,d=a.isSecureMessage;a=a.message;var e=g._(/*FBT_CALL*/"M\u1ed9t ng\u01b0\u1eddi li\u00ean h\u1ec7 \u0111\u00e3 thu h\u1ed3i tin nh\u1eafn"/*FBT_CALL*/);a=b("cr:1284")==null?e:b("bs_curry")._1(b("cr:1284").useUnsendContentInSecureThread,a);if(d)d=a;else if(c!==void 0){a=c.descriptionText;d=a!==void 0?a:e}else d=e;return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:d,ariaLabel:d})}c={make:k};function l(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 thu h\u1ed3i m\u1ed9t tin nh\u1eafn"/*FBT_CALL*/)}else a=g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 thu h\u1ed3i m\u1ed9t tin nh\u1eafn"/*FBT_CALL*/);return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:a,ariaLabel:a})}d={make:l};function m(a){var c=a.attachment;a=a.thread;a=b("MWCMUseFolder.bs").useHook(a);if(c!==void 0){c=c.cta1Title;c=c!==void 0?c:g._(/*FBT_CALL*/"Xem chi ti\u1ebft trong nh\u1eadt k\u00fd ho\u1ea1t \u0111\u1ed9ng"/*FBT_CALL*/)}else c=g._(/*FBT_CALL*/"Xem chi ti\u1ebft trong nh\u1eadt k\u00fd ho\u1ea1t \u0111\u1ed9ng"/*FBT_CALL*/);if(a!==void 0)return i.jsx(b("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+b("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(a){return[j.linkText]},children:i.jsx(b("MWText.react"),{color:"blueLink",type:"meta2",children:c})});else return null}e={make:m};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;var e=b("useReStore")(),f=c.messageId,g=c.threadKey,h=b("MWLSThread.bs").useThread(g),j=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:g,tl:{hd:f,tl:0}})},[e,f,JSON.stringify(g)]));if(j!==void 0){var n=j.cta1Type;n=n!==void 0?n==="xma_view_activity_log":!1}else n=!1;return i.jsxs(i.Fragment,{children:[d?i.jsx(l,{attachment:j}):i.jsx(k,{attachment:j,isSecureMessage:a,message:c}),h!==void 0&&n&&b("MWCMThreadTypes.bs").isAnyCMThread(h.threadType)?i.jsx(m,{attachment:j,thread:h}):null]})}a=a;f.styles=j;f.$MAWMsg$requireCond=b("cr:1284");f.IncomingUnsentMessage=c;f.OutgoingUnsentMessage=d;f.ActivityLogDetails=e;f.make=a}),null);/*FB_PKG_DELIM*/
__d("MAWForwardMessage.bs",["MAWBackendBridge.bs","MAWCreateOneToOneThread.bs","MAWGating.bs","MAWGetEphemeralSettings.bs","MAWJob.bs","MAWThreadId.bs","MWThread_DEPRECATED.bs","Promise","bs_caml_option","bs_curry","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(b("MAWGating.bs").isOccamadillo(void 0)||b("MAWThreadId.bs").isThreadId(c))return b("MAWThreadId.bs").ofThreadKey(a,c).then(function(a){if(a)return{chatId:a._0,created:!1};else return b("unrecoverableViolation")("If you see this error, something is broken in MAWThreadId.res","messenger_web_product")});else return b("MAWCreateOneToOneThread.bs").call(a,c,void 0,void 0)}function a(a,c,d){c=b("MWThread_DEPRECATED.bs").toThreadKey(c);a=g(a,c).then(function(a){return b("Promise").all([b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a.chatId}).sendAndReceive,void 0),b("bs_curry")._1(b("MAWBackendBridge.bs").getProtocolMsgIdByMsgId({msgId:d}).sendAndReceive,void 0)]).then(function(c){var d=c[1];c=c[0];if(c===void 0)return b("Promise").resolve(void 0);if(d===void 0)return b("Promise").resolve(void 0);var e=b("bs_caml_option").valFromOption(c);return b("MAWGetEphemeralSettings.bs").use(e).then(function(c){return b("MAWJob.bs").forwardMsg.waitUntilPersisted(e,d,c,void 0,a.created)})})});b("promiseDone")(a,void 0,void 0)}f.maybeCreateNewThreadStep=g;f.useForwardMessage=a}),null);
__d("MAWForwardMessageFromSecureThread.bs",["LS.bs","LSDict","LSHotEmojiSize.bs","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSTransaction.bs","LSVec","MAWBackendBridge.bs","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWThread_DEPRECATED.bs","MessagingAttachmentType.bs","OfflineThreadingId.bs","Promise","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","cr:385","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return{attachment_fbid:c,offline_attachment_id:c,attachment_type:a.attachmentType,attachment_index:b("bs_caml_int64").zero,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,playable_url:URL.createObjectURL(d),playable_url_mime_type:d.type,playable_duration_ms:a.playableDurationMs,preview_url:void 0,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}}function h(a,c,d,e,f,g,h,i){var j=b("LS.bs").make(i);return b("LSLocalApplyOptimisticMessageWithAttachments")(h,f,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g,b("LSVec").make([b("LSDict").fromObject(c)]),void 0,j).then(function(a){var c=a[0];return i.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(c),threadKey:f,offlineThreadingId:c,messageId:void 0,threadAttributionSource:b("LSMessagingThreadAttributionType.bs").unknown,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!1,initiatingSource:void 0}).then(function(a){return b("Promise").resolve(c)})}).then(function(a){var d=c.attachment_fbid;return b("LSInsertNewMediaSend")(d,a,b("bs_caml_int64").zero,c.attachment_type,!1,!1,!1,!1,j).then(function(c){return b("Promise").resolve([a,d])})}).then(function(e){var f=e[1],g=e[0];e=function(c,d){b("LSTransaction.bs").run(a,function(a){var c=b("LS.bs").make(a);return b("LSMarkSubJobCompletedV2")(f,b("bs_caml_int64").of_float(d),void 0,void 0,void 0,c).then(function(a){return b("MWPOpenComposerUtils.bs").resumeSendJob(c,g,void 0)})},"readWrite")};b("MWPComposerMediaUploadUtil.bs").startUpload(void 0,e,void 0,b("bs_caml").i64_eq(c.attachment_type,b("MessagingAttachmentType.bs").audio),[d],[f]);return b("Promise").resolve(void 0)})}function a(a,c,d,e,f,i,j){var k=b("LSMessagingThreadTypeUtil.bs").ofThreadId(c),l=b("MWThread_DEPRECATED.bs").toThreadKey(c);d=b("LSTransaction.bs").run(a,function(c){var d=b("LS.bs").make(c);if(i!==void 0){var m=i.attachmentType;if(b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").audio))return b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(i.attachmentFbid)}).sendAndReceive,void 0).then(function(d){if(d===void 0)return b("Promise").resolve(void 0);d=b("bs_caml_option").valFromOption(d);d=new File([d],"mediaForwardedFromSecureThread",{type:d.type});var e=b("OfflineThreadingId.bs").make(void 0);e=b("MWPComposerMediaUploadUtil.bs").getAudioAttachment(e,d,b("bs_caml_int64").to_int32(b("bs_belt_Option").getExn(i.playableDurationMs))/1e3|0);return h(a,e,d,k,l,f,j,c)});else if(b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").video)||b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").animatedImage))return b("bs_curry")._1(b("MAWBackendBridge.bs").getBlobDataUrlByMediaId({mediaId:b("bs_caml_format").caml_int32_of_string(i.attachmentFbid)}).sendAndReceive,void 0).then(function(d){if(d===void 0)return b("Promise").resolve(void 0);d=b("bs_caml_option").valFromOption(d);d=new File([d],"mediaForwardedFromSecureThread",{type:d.type});var e=b("OfflineThreadingId.bs").make(void 0);e=g(i,e,d);return h(a,e,d,k,l,f,j,c)});else return b("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")}m=e.text;if(m===void 0)return b("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product");m=b("cr:385")==null?m:b("bs_curry")._1(b("cr:385").unvault,m);if(m==="\ud83d\udc4d"&&b("bs_caml_obj").caml_equal(e.hotEmojiSize,b("LSHotEmojiSize.bs").small))return b("LSOptimisticSendMessage")(j,l,k,b("LSMailboxType.bs").messenger,void 0,void 0,void 0,b("bs_caml_format").caml_int64_of_string("369239263222822"),void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,void 0,void 0,void 0,void 0,f,void 0,void 0,!1,!1,void 0,void 0,void 0,d).then(function(a){});else return b("LSOptimisticSendMessage")(j,l,k,b("LSMailboxType.bs").messenger,m,void 0,void 0,void 0,void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,void 0,void 0,void 0,void 0,f,void 0,void 0,!1,!1,void 0,void 0,void 0,d).then(function(a){})},"readWrite");b("promiseDone")(d,void 0,void 0)}f.$MAWVault$requireCond=b("cr:385");f.useForwardMessage=a}),null);
__d("MAWFowardMessageFromOpenThread.bs",["MAWBackendBridge.bs","MAWForwardMessage.bs","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWJob.bs","MAWSecureComposerUtils.bs","MAWVideoUtils","MWThread_DEPRECATED.bs","MessagingAttachmentType.bs","Promise","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return b("Promise").all([b("MAWImagePreProcess").getImageSpec(a),b("Promise").resolve(a),c.arrayBuffer(),b("MAWImagePreProcess").getImageSpec(c)]).then(function(a){var c=a[3];return b("Promise").resolve({TAG:0,_0:a[1],_1:{imageSpec:a[0],thumbnailUrlAndSpec:{jpegThumbnail:a[2],width:c.width,height:c.height,duration:void 0}}})})}function h(a){return b("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(function(c){return b("Promise").resolve({TAG:1,_0:a,_1:{thumbnailUrlAndSpec:c}})})}function i(a){var c=a.attachmentType;if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").video)||b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").animatedImage)){var d=a.playableUrl,e=a.previewUrl;if(d===void 0)return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product");if(e!==void 0){var f=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage),i=f?e+"&":d;e=f?e+"&":e;return b("Promise").all([window.fetch(i,void 0).then(function(a){return a.blob()}),window.fetch(e,void 0).then(function(a){return a.blob()})]).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType),e=b("bs_belt_Option").getExn(a.previewUrlMimeType);d=new File([c[0]],"mediaForwardedFromOpenThread",{type:f?e:d});c=new File([c[1]],"previewForwardedFromOpenThread",{type:e});e=a.attachmentType;if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").image))return g(d,c);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").video))return h(d);else if(b("bs_caml").i64_eq(e,b("MessagingAttachmentType.bs").animatedImage))return g(d,c);else return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")})}var j=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage);i=j?d+"&":d;return window.fetch(i,void 0).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType);j&&d==="video/mp4"&&b("unrecoverableViolation")("If you see this error, there is only mp4 url for gif","messenger_web_product");c=new File([c],"mediaForwardedFromOpenThread",{type:d});d=a.attachmentType;if(b("bs_caml").i64_eq(d,b("MessagingAttachmentType.bs").image))return b("MAWSecureComposerUtils.bs").imagePreprocess(c,!1);else if(b("bs_caml").i64_eq(d,b("MessagingAttachmentType.bs").video))return h(c);else if(b("bs_caml").i64_eq(d,b("MessagingAttachmentType.bs").animatedImage))return b("Promise").all([b("MAWImagePreProcess").getJpegThumbnailInfo(c,400),b("MAWImagePreProcess").getImageSpec(c),b("Promise").resolve(c)]).then(function(a){return b("Promise").resolve({TAG:0,_0:a[2],_1:{imageSpec:a[1],thumbnailUrlAndSpec:a[0]}})});else return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")})}else if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").audio)){e=a.playableUrl;if(e!==void 0)return window.fetch(e+"&",void 0).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType),e=b("bs_belt_Option").getExn(a.playableDurationMs);c=new File([c],"mediaForwardedFromOpenThread",{type:d});return b("Promise").resolve({TAG:2,_0:c,_1:{durations:b("bs_caml_int64").to_int32(e)/1e3|0,isPtt:!0}})});else return b("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_product")}else if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").sticker)){d=a.playableUrl;i=a.previewUrl;if(d!==void 0)if(i!==void 0)return b("Promise").all([window.fetch(d,void 0).then(function(a){return a.blob()}),window.fetch(i,void 0).then(function(a){return a.blob()})]).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType),e=b("bs_belt_Option").getExn(a.previewUrlMimeType);d=new File([c[0]],"mediaForwardedFromOpenThread",{type:d});c=new File([c[1]],"previewForwardedFromOpenThread",{type:e});return g(d,c)});else return window.fetch(d,void 0).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.playableUrlMimeType);c=new File([c],"mediaForwardedFromOpenThread",{type:d});return g(c,c)});else if(i!==void 0)return window.fetch(i,void 0).then(function(a){return a.blob()}).then(function(c){var d=b("bs_belt_Option").getExn(a.previewUrlMimeType);return b("MAWSecureComposerUtils.bs").imagePreprocess(new File([c],"previewForwardedFromOpenThread",{type:d}),!0)});else return b("unrecoverableViolation")("If you see this error, there is no url for this sticker","messenger_web_product")}else return b("unrecoverableViolation")("We do not support forwarding other media types","messenger_web_product")}function a(a,c,d,e,f,g){d=b("MWThread_DEPRECATED.bs").toThreadKey(c);b("promiseDone")(b("MAWForwardMessage.bs").maybeCreateNewThreadStep(a,d).then(function(a){return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a.chatId}).sendAndReceive,void 0).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);var d=b("bs_caml_option").valFromOption(c);c=b("MAWGetEphemeralSettings.bs").use(d);var h=a.created;return c.then(function(a){if(g!==void 0)if(g.attachmentFbid==="369239263222822"||g.attachmentFbid==="369239343222814"||g.attachmentFbid==="369239383222810")return b("MAWJob.bs").sendMsg.waitUntilPersisted(d,{content:"\ud83d\udc4d",duration:void 0,height:void 0,width:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,isPtt:void 0,quote:void 0,optimisticMsg:void 0,openMessageOtid:void 0,ephemeralSetting:a,isForwarded:f,specialTextSize:1,isFirstMsg:h,openMessageParticipantCount:void 0,participantCount:void 0},void 0);else return i(g).then(function(c){switch(c.TAG|0){case 0:var e=c._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(d,c._0,b("bs_caml_option").some(e.thumbnailUrlAndSpec.jpegThumbnail),e.imageSpec.width,e.imageSpec.height,e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,void 0,void 0,a,void 0,void 0,f,h);break;case 1:e=c._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(d,c._0,b("bs_caml_option").some(e.thumbnailUrlAndSpec.jpegThumbnail),e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,e.thumbnailUrlAndSpec.width,e.thumbnailUrlAndSpec.height,e.thumbnailUrlAndSpec.duration,void 0,a,void 0,void 0,f,h);break;case 2:e=c._1;b("MAWJob.bs").sendMediaMsg.fireAndForget(d,c._0,void 0,void 0,void 0,void 0,void 0,e.durations,e.isPtt,a,void 0,void 0,f,h);break}return b("Promise").resolve(void 0)});var c=e.text;if(c!==void 0)return b("MAWJob.bs").sendMsg.waitUntilPersisted(d,{content:e.text,duration:void 0,height:void 0,width:void 0,jpegThumbnail:void 0,jpegThumbnailHeight:void 0,jpegThumbnailWidth:void 0,isPtt:void 0,quote:void 0,optimisticMsg:void 0,openMessageOtid:void 0,ephemeralSetting:a,isForwarded:f,specialTextSize:void 0,isFirstMsg:h,openMessageParticipantCount:void 0,participantCount:void 0},void 0);else return b("unrecoverableViolation")("We do not support forwarding this types","messenger_web_product")})})}),void 0,void 0)}f.useForwardMessage=a}),null);/*FB_PKG_DELIM*/
__d("MWMarkThreadAsReadWhenNewMessagesArrive.re",["MWMarkThreadAsReadWhenNewMessagesArrive.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._4(b("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook,a.thread,a.lastMessage==null?void 0:a.lastMessage,a.markThreadAsRead,a.checkIsAtBottom);return a};f.useHook=a}),null);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"mu51a5us",animationName:"f6jgleg9",transform:"amx3n8jj"},animateOut:{animationDuration:"mu51a5us",animationName:"m8u5b0dn",transform:"n9g6laej"},animationWrapper:{bottom:"i09qtzwb",position:"pmk7jnqg",start:"ajfc1n2e",zIndex:"tkr6xdv7"},root:{height:"do00u71z",position:"l9j0dhe7",width:"k4urcfbm"}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:c("stylex")(l.root),children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPInfiniteMessageList.react",["BaseHeadingContextWrapper.react","BaseScrollableAreaContext","I64","IntersectionObserver","LS.re","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSOptimisticMarkThreadReadV2","MWMarkThreadAsReadWhenNewMessagesArrive.re","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.re","MWVisibleMessageContext.bs","ReQL","ReQLPaginatedList.react","ReQLSuspense","ServerTime","intersectionObserverEntryIsIntersecting","promiseDone","react","regeneratorRuntime","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useImperativeHandle,m=e.useMemo,n=e.useRef,o=e.useState,p={container:{isolation:"fbhpx0h9",zIndex:"du4w35lb"},list:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},observed:{height:"ay7djpcl",marginTop:"hqeojc4l",pointerEvents:"hzruof5a",position:"pmk7jnqg"},spacer:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr"}},q=d("I64").of_string("9999999999999"),r=5;function s(a){var b=a.messageId,c=a.primarySortKey,e=a.secondarySortKey;a=a.threadKey;return d("ReQL").key(a,c,e,b)}function t(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function u(a,e,f){c("promiseDone")(a.runInTransaction(function(a){var g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(a.table("messages_ranges_v2__generated").get(e));case 2:g=h.sent;if(!(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))){h.next=5;break}return h.abrupt("return");case 5:return h.abrupt("return",c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(f==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),d("LS.re").make(a)));case 6:case"end":return h.stop()}},null,this)},"readwrite"))}function v(a,b,e,f){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,e,f,d("LS.re").make(a))},"readwrite"))}function w(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,b){var e=a.children,f=a.renderFooter,g=a.renderHeader,x=a.renderJumpToMostRecentMessageButton,y=a.renderLoadingAnimation,z=a.renderRow,A=a.thread,B=A.threadKey,C=A.threadType,D=c("useReStore")(),E=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(D.table("messages_ranges_v2__generated")).getKeyRange(B)},[D,B]),F=n(new Map()),G=n(),H=j(c("BaseScrollableAreaContext"));a=m(function(){return[].concat(H,[{getDOMNode:function(){return G.current}}])},[H]);var I=o([E,void 0]),J=I[0],K=I[1];I=d("MWVisibleMessageContext.bs").useHook();var aa=I.setVisibleMessage,L=I.visibleMessage;I=(I=L)!=null?I:{};var M=I.messageId,N=I.timestamp,O=d("ReQLSuspense").useFirst(function(){return M!=null&&N!=null?d("ReQL").fromTableAscending(D.table("messages")).getKeyRange(B,N,M):d("ReQL").empty()},[D,B,M,N]),P=t(d("ReQLSuspense").useFirst(function(){return N!=null?d("ReQL").fromTableDescending(D.table("messages_ranges_v2__generated")).getKeyRange(B).bounds({lte:{hd:N,tl:0}}):d("ReQL").empty()},[D,N,B]),N);k(function(){M==null||N==null?K([E,void 0]):P==null?v(D,B,M,C):O!=null&&K([P,O])},[D,O,M,P,E,JSON.stringify(B),JSON.stringify(C),JSON.stringify(N)]);k(function(){var a;a=(a=F.current.get(L==null?void 0:L.messageId))==null?void 0:a.current;a!=null&&a.scrollIntoView()},[L]);var Q=J[0];I=J[1];J=d("ReQLSuspense").useFirst(function(){return Q!=null?d("ReQL").fromTableAscending(D.table("messages")).getKeyRange(Q.threadKey).bounds({gte:d("ReQL").key(Q.minTimestampMs,Q.minMessageId)}):d("ReQL").empty()},[D,Q]);var R=d("ReQLSuspense").useFirst(function(){return Q!=null?d("ReQL").fromTableDescending(D.table("messages")).getKeyRange(Q.threadKey).bounds({lte:d("ReQL").key(Q.maxTimestampMs,Q.maxMessageId)}):d("ReQL").empty()},[D,Q]),S=o(!0),ba=S[0],ca=S[1],T=n(),U=G.current,V=T.current;k(function(){if(V!=null&&U!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];return ca(c("intersectionObserverEntryIsIntersecting")(a))},{root:U,rootMargin:"360px"});a.observe(V);return function(){return a.disconnect()}}},[U,V]);var W=Q!=null?Q.hasMoreAfter:!1;S=i(function(){var a=G.current;return a==null?!1:a.scrollHeight-a.scrollTop-a.clientHeight<r&&W},[W]);var X=i(function(){c("promiseDone")(D.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(A.threadKey,d("I64").of_float(d("ServerTime").getMillis()),d("LS.re").make(a))},"readwrite"))},[JSON.stringify(A.authorityLevel),JSON.stringify(A.threadKey)]),Y=d("MWMarkThreadAsReadWhenNewMessagesArrive.re").useHook({checkIsAtBottom:S,lastMessage:R,markThreadAsRead:X,thread:A});k(function(){if(V!=null&&U!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];c("intersectionObserverEntryIsIntersecting")(a)&&Y()},{root:U,rootMargin:"0px"});a.observe(V);return function(){return a.disconnect()}}},[U,V,Y]);S=Q!=null&&d("I64").equal(Q.maxTimestampMs,q);X=Q!=null&&d("I64").equal(Q.minTimestampMs,d("I64").zero);function Z(){Q===E&&(U!=null&&(U.scrollTop=U.scrollHeight)),aa(void 0)}l(b,function(){return{jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){Z()})}});if(Q==null||J==null&&!X||R==null&&!S)return y!=null?y():null;var $=d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId);b=I==null?"bottom":s(I);return h.jsxs(h.Fragment,{children:[h.jsx(c("BaseScrollableAreaContext").Provider,{value:a,children:h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:J==null||X?d("ReQL").key(B):s(J),lte:R==null||S?d("ReQL").key(B):s(R)},hasReachedBottom:!Q.hasMoreAfter,hasReachedTop:!Q.hasMoreBefore,initialAnchor:b,onReachingBottom:function(){u(D,$,"after"),Y()},onReachingTop:function(){return u(D,$,"before")},renderContent:function(a){return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsxs("div",{className:c("stylex")(p.container),children:[e(a),h.jsx("div",{className:c("stylex")(p.observed),ref:T})]})})},renderFooter:f,renderHeader:g,renderHeaderContentSpacer:function(){return h.jsx("div",{className:c("stylex")(p.spacer)})},renderItem:function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.re").make,{contactId:a.senderId,threadKey:a.threadKey,children:z({domElementRef:w(F.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.messageId)},renderLoadingAnimation:y,scrollAreaElementRef:G,table:D.table("messages").index("messageDisplayOrder"),xstyle:p.list})}),x&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!ba||Q.hasMoreAfter,children:x(Z)})]})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometComposerMediaAttachmentPendingMediaStates",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NEW","QUEUED","UPLOADING"]);c=a;f["default"]=c}),66);
__d("cometComposerValidateNoMediaCurrentlyUploading",["fbt","CometComposerMediaAttachmentPendingMediaStates"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return(a.mediaAttachments||[]).some(function(a){return new Set(c("CometComposerMediaAttachmentPendingMediaStates").members()).has(a.state)})?h._(/*FBT_CALL*/"B\u1ea1n kh\u00f4ng th\u1ec3 \u0111\u0103ng khi file ph\u01b0\u01a1ng ti\u1ec7n \u0111ang t\u1ea3i l\u00ean"/*FBT_CALL*/):null}g["default"]=a}),98);
__d("CometBloodDonationAttachmentStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._(/*FBT_CALL*/"L\u00ean l\u1ecbch"/*FBT_CALL*/)};b=function(){return h._(/*FBT_CALL*/"\u0110\u1eb7t l\u1ecbch ngay"/*FBT_CALL*/)};c=function(){return h._(/*FBT_CALL*/"\u0110\u1eb7t l\u1ecbch h\u1eb9n"/*FBT_CALL*/)};d=function(){return h._(/*FBT_CALL*/"Hi\u1ebfn m\u00e1u"/*FBT_CALL*/)};e=function(a,b){return b==null?a:h._(/*FBT_CALL*/"{Facility name (e.g. American Red Cross)} \u00b7 {Category name (e.g. Blood Bank)}"/*FBT_CALL*/,[h._param("Facility name (e.g. American Red Cross)",a),h._param("Category name (e.g. Blood Bank)",b)])};g.getScheduleCTA=a;g.getBookNowCTA=b;g.getBookAppointmentCTA=c;g.getAttachmentTitle=d;g.getFacilityNameWithCategory=e}),98);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f,g){var h=a.URL||a.webkitURL||{};function e(a,e){if(!h.createObjectURL||!c("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(c("WebWorker").isSupported())return new(b("Promise"))(function(b,d){var f=new(c("WebWorker"))(c("CanvasToBlobResource")).setMessageHandler(function(a){b(a),f.terminate()}).setErrorHandler(function(a){d(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:e})});else return b("Promise").resolve(d("CanvasToBlobImpl").getBlob(a,e))}g["default"]=e}),98);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f,g){function a(a,d,e){return new(b("Promise"))(function(b,f){if(a.toBlob)a.toBlob(b,d,e);else{var g=a.toDataURL(d,e);c("promiseDone")(c("dataURLToBlob")(g,d).then(function(a){b(a)},f))}})}g["default"]=a}),98);
__d("VideoThumbnail_UNTYPED",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail_UNTYPED","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;i.$CanvasVideoThumbnail8=i.$CanvasVideoThumbnail1.toDataURL("image/jpeg");return i}var e=d.prototype;e.getCanvas=function(){return this.$CanvasVideoThumbnail1};e.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};e.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};e.getData=function(){var a=this,d=document.createElement("canvas"),e=d.getContext("2d"),f=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,g){var h=c("EventListener").listen(f,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(d,e),c("promiseDone")(c("canvasToBlob")(d,"image/jpeg").then(b,g))});f.currentTime=a.$CanvasVideoThumbnail3})};e.getDataWithText=function(a,d,e,f,g,h,i,j){var k=this,l=document.createElement("canvas"),m=l.getContext("2d"),n=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(b,o){var p=c("EventListener").listen(n,"seeked",function(){p.remove(),m.fillStyle=i,m.textAlign=j,k.$CanvasVideoThumbnail9(l,m),m=c("VideoThumbnail_UNTYPED").addTextToCanvasContext(m,a,d,e,f,g,h,i,j),c("promiseDone")(c("canvasToBlob")(l,"image/jpeg").then(b,o))});n.currentTime=k.$CanvasVideoThumbnail3})};e.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};e.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return d}(c("VideoThumbnail_UNTYPED"));g["default"]=a}),98);
__d("MediaManagerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("308");c=b("FalcoLoggerInternal").create("media_manager_event",a);e.exports=c}),null);
__d("BloodDonationPartnerPrimaryBookingMethod",[],(function(a,b,c,d,e,f){a=Object.freeze({BOOKING_URL:"booking_url",PHONE:"phone"});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MWMessageElementRefList.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Map(),d=new Map(),e={contents:void 0};return{set:function(a){var f=d.get(a);if(!(f==null))return f;f=function(d){if(d==null){c["delete"](a);return}c.set(a,d);var f=e.contents;if(f!==void 0&&f[0]===a){b("bs_curry")._1(f[1],d);e.contents=void 0;return}};d.set(a,f);return f},get:function(a,d){var f=c.get(a);if(f==null){e.contents=[a,d];return}else return b("bs_curry")._1(d,f)}}}function c(a){switch(a.TAG|0){case 0:var b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){var c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 1:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}c=b._0.messageId;return c;case 2:b=a._0.messageID;if(typeof b==="number")return;if(b.TAG===0){c=b._0.offlineThreadingId;return c}a=b._0.messageId;return a}}f.make=a;f.messageIdFromContent=c}),null);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_curry","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:void 0};function j(a){i.contents===void 0&&(i.contents=window.document.documentElement.style.overflowAnchor!==void 0);return b("bs_belt_Option").getWithDefault(i.contents,!1)}function a(a,c,d,e,f,g){a=a!==void 0?a:!1;var i=c!==void 0?c:!0;c=d!==void 0?d:0;d=a||!j(void 0);var k=e.length,l=typeof c==="number"?!1:c._0>=200;a=h.useState(function(){if(l)return k;else if(i)if(window.screen.availHeight<1200)return 20;else return 40;else return 10});var m=a[1],n=a[0];c=h.useMemo(function(){return b("bs_belt_Array").sliceToEnd(e,-n|0)},[e,n]);var o=h.useRef(n);a=h.useCallback(function(a){b("bs_caml").i64_neq(a,b("LSMailboxMessagesRangeQueryDirection.bs").before)&&b("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((o.current+15|0)<=k){o.current=o.current+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else{b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before);if(o.current<(k+15|0)){o.current=k+15|0;return b("bs_curry")._1(m,function(a){return o.current})}else return}},[f,k,m]);if(d)return[e,f,g];else return[c,a,g||n<k]}c=15;d=10;e=20;var k=40,l=1200,m=200;f.pageSize=c;f.initialCountSmall=d;f.initialCountDefault=e;f.initialCountTall=k;f.tallWindowHeight=l;f.minScrollPosToMountAll=m;f.useLoadMore=a}),null);
__d("MWV2SeenHead.bs",["GenderConst","LSMediaUrl.bs","LSMessageSendStatusV2.bs","MWMessageDeliveryStatus.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";e=[];function g(a){var c=a[1];a=a[0];return{imageSrc:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),name:b("bs_belt_Option").getWithDefault(a.nickname,c.name),id:b("bs_int64").to_string(c.id),gender:b("GenderConst").NOT_A_PERSON,timestamp:b("bs_caml_int64").to_float(a.readActionTimestampMs)}}function a(a,c){var d={contents:b("bs_caml_int64").zero};a.forEach(function(a,e,f){e=a[0];if(b("bs_caml").i64_neq(e.contactId,c)&&b("bs_caml").i64_gt(e.deliveredWatermarkTimestampMs,d.contents)){d.contents=e.deliveredWatermarkTimestampMs;return}});return d.contents}function c(a){return new Set([b("bs_int64").to_string(a)])}function d(a,c,d,e,f,h){var i=[];c.forEach(function(c,e,f){if(d.has(e)||a.isAdminMessage)return;if(!b("bs_caml").i64_eq(a.sendStatusV2,b("LSMessageSendStatusV2.bs").serverReceived))return;f=c[0];var j=b("bs_caml").i64_eq(a.senderId,f.contactId);f=b("bs_caml").i64_le(a.timestampMs,f.readWatermarkTimestampMs);if(j||f){i.push(g(c));if(!h){d.add(e);return}else return}});var j=i.length===0&&d.size===1;if(i.length<=0)if(b("bs_caml").i64_eq(a.senderId,f))return b("MWMessageDeliveryStatus.bs").deliveryStatusForMessageSentByYou(a,e,j);else return 0;if(!h)if(i.length>1)return{TAG:1,_0:i};else return{TAG:0,_0:b("bs_caml_array").get(i,0)};f=i.length===(c.size-1|0);return{TAG:2,_0:i,_1:f}}f.noSeenHeads=e;f.toSeenDetails=g;f.calculateMaxDeliveredTimestamp=a;f.makeExistingSeenHeads=c;f.deliveryStatusForMessage=d}),null);
__d("MWPOneToOneThreadBlockedContext.bs",["LSContactBlockedByViewerStatus.bs","MWV2OneToOneThreadBlockedContext.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.participants;a=a.children;var e=h.useMemo(function(){if(!(b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var a={contents:!1};d.forEach(function(c,d,e){if(b("bs_caml").i64_neq(c[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)){a.contents=!0;return}});return a.contents},[JSON.stringify(c.threadType),d]);return h.jsx(b("MWV2OneToOneThreadBlockedContext.bs").make,{children:a,blocked:e})}c=a;f.make=c}),null);
__d("MWPBaseMessageList.bs",["BaseHeadingContextWrapper.re","LSMessagingThreadTypeUtil.bs","MWPActor.bs","MWPMessageAuthor.bs","MWPOneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","bs_caml_array","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{zIndex:"du4w35lb"}};function a(a){var c=a.thread,d=a.messages,e=a.participants,f=a.children;a=a.renderRow;var g=b("MWPActor.bs").useActor(void 0),k=b("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(e,g),l=b("MWV2SeenHead.bs").makeExistingSeenHeads(g),m=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),n=[];for(var o=d.length-1|0;o>=0;--o){var p=o===0?void 0:b("bs_caml_array").get(d,o-1|0),q=o>=(d.length-1|0)?void 0:b("bs_caml_array").get(d,o+1|0),r=b("bs_caml_array").get(d,o),s=b("MWV2SeenHead.bs").deliveryStatusForMessage(r,e,l,k,g,m);n.push(i.jsx(b("MWPMessageAuthor.bs").make,{children:b("bs_curry")._1(a,{message:r,nextMessage:q,prevMessage:p,status:s}),contactId:r.senderId,threadKey:r.threadKey},r.messageId))}if(n.length===0)return null;else return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("MWPOneToOneThreadBlockedContext.bs").make,{thread:c,participants:e,children:b("bs_curry")._1(f,n.reverse())})})})}c=a;f.styles=j;f.make=c}),null);/*FB_PKG_DELIM*/
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("generateVideoThumbnails",["CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281"],(function(a,b,c,d,e,f,g){function a(a,d,e,f,g,l,m,n,o,p){g===void 0&&(g="contain");l===void 0&&(l=0);m===void 0&&(m=null);n===void 0&&(n=null);o===void 0&&(o=null);p===void 0&&(p=null);return new(b("Promise"))(function(q,r){var s=document.createElement("canvas"),t=[],u=0,v=a.duration-l;p!=null&&(v=Math.min(v,p));var w=v/f,x=null,y,z=(v=n)!=null?v:h(m,d),A=(v=o)!=null?v:i(m,e),B=j(m,d),C=k(m,e);s.width=(v=z)!=null?v:d;s.height=(v=A)!=null?v:e;var D=new(c("VideoFrameBuffer"))(s,a,g,z,A,B,C);D.updateFrameBuffer();var E=function(){D.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(s,a,l+(u-1)*w,z,A,B,C);t.push(b);(!x||b.getURL().length>x.getURL().length)&&(x=b);G()},F=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)E();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),E()});else a.addEventListener("loadeddata",E,{once:!0})},G=function(){u===0&&(b("cr:909281")!==null?y=b("cr:909281").listen(a,"seeked",F):a.addEventListener("seeked",F)),u<f?(a.currentTime=l+u*w,u++):(b("cr:909281")!==null?y&&y.remove():a.removeEventListener("seeked",F),q({thumbnails:t,selectedThumbnail:x}))};if(a.videoWidth===0||a.videoHeight===0){r();return}G()})}function h(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function i(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function k(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWE2EEIntroDialogTrigger.react",["CometLazyDialogTrigger.react","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWE2EEIntroDialog.react").__setRef("MWE2EEIntroDialogTrigger.react");function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return h.jsx(c("CometLazyDialogTrigger.react"),{children:b,dialogProps:a,dialogResource:i,onHide:a.onClose})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNux.react",["fbt","ix","CometCircleButton.react","CometPressable.react","MDSImage.react","MDSRow.react","MDSRowItem.react","MDSText.react","MDSTextPairing.react","MWE2EEIntroDialogTrigger.react","declareNUXRequireable","fbicon","react","stylex","useNUX"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={closeButton:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9"},container:{backgroundColor:"i94ygzvd",position:"l9j0dhe7"},moreInfoButton:{backgroundColor:"tdjehn4e",borderTopStartRadius:"kt9q3ron",borderTopEndRadius:"ak7q8e6j",borderBottomEndRadius:"isp2s0ed",borderBottomStartRadius:"ri5dt5u2",display:"a8c37x1j",height:"k7cz35w2",paddingTop:"kvwlxcbp",paddingBottom:"j1kv9ji2",width:"k4urcfbm"},sheet:{borderBottom:"s1tcr66n"},sheetInner:{paddingBottom:"osnr6wyh",width:"k4urcfbm"}};function a(a){return function(b){var e=b.isGroup;b=b.otherUserFullName;var f=c("useNUX")(a),g=f[0];f=f[1].onDismiss;var l=h._(/*FBT_CALL*/"\u0110o\u1ea1n chat m\u00e3 h\u00f3a \u0111\u1ea7u cu\u1ed1i"/*FBT_CALL*/),m=h._(/*FBT_CALL*/"Gi\u1edd \u0111\u00e2y, b\u1ea1n c\u00f3 th\u1ec3 g\u1eedi v\u00e0 nh\u1eadn tin nh\u1eafn m\u1ed9t c\u00e1ch an to\u00e0n nh\u1edd t\u00ednh n\u0103ng m\u00e3 h\u00f3a \u0111\u1ea7u cu\u1ed1i tr\u00ean web."/*FBT_CALL*/),n=i("199472");n=j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSImage.react"),{src:n})});m=j.jsx(c("MDSRowItem.react"),{expanding:!0,children:j.jsx(c("MDSTextPairing.react"),{body:m,bodyColor:"secondary",headline:l,level:4,metaLineLimit:1})});l=j.jsx(c("MDSRow.react"),{align:"center",expanding:!0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{expanding:!0,children:j.jsx(c("MWE2EEIntroDialogTrigger.react"),{isGroup:e,onClose:f,otherUserFullName:b,children:function(a){return j.jsx(c("CometPressable.react"),{onPress:a,xstyle:k.moreInfoButton,children:j.jsx(c("MDSText.react"),{align:"center",color:"secondary",numberOfLines:1,type:"button2",children:h._(/*FBT_CALL*/"Th\u00f4ng tin th\u00eam"/*FBT_CALL*/)})})}})})});e=j.jsx(c("MDSRowItem.react"),{verticalAlign:"top",xstyle:k.closeButton,children:j.jsx(c("CometCircleButton.react"),{color:"primary",icon:d("fbicon")._(i("478231"),12),label:h._(/*FBT_CALL*/"\u0110\u00f3ng"/*FBT_CALL*/),onPress:f,size:24})});b=j.jsxs("div",{className:c("stylex")(k.sheetInner),children:[j.jsxs(c("MDSRow.react"),{children:[n,m,e]}),l]});return g?j.jsx("div",{className:c("stylex")(k.container),children:j.jsx("div",{className:c("stylex")(k.sheet),children:b})}):null}}b=c("declareNUXRequireable")(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MessengerSurfaceContext.bs").context);return a===b("MessengerSurfaceType.bs").workQuickchat}f.useIsQuickChatSurface=a}),null);