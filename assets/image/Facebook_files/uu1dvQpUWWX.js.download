if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?(d[6]=c.localizeV2([0,2285622730],f),d[7]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7])):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",[0,86],d[5],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","LS.bs","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","LSTransaction.bs","LsMessageRequestsActions.bs","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MessageRequestsBulkActionsContext.react","MessageRequestsLog.bs","ReQL.bs","ServerTime","TetraButtonGroup.react","bs_caml_format","bs_caml_int64","bs_curry","focusScopeQueries","promiseDone","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d,tl:0})).then(function(a){return b("LSOptimisticMarkThreadReadV2")(d,b("bs_caml_int64").of_float(b("ServerTime").getMillis()),b("LS.bs").make(c))})},"readWrite"),void 0,void 0)})},[c,a])}function k(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticDeleteThread")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)})},[c,a])}function a(a){a=a.entryPoint;var c=a!==void 0?a:"messageRequests";a=i.useContext(b("MessageRequestsBulkActionsContext.react"));var d=a.setIsBulkActionsEditMode,e=a.bulkActionsUnreadSelectedThreads,f=a.bulkActionsSelectedThreads,h=b("useReStore")(),l=j(h,f),m=k(h,f),n=b("useCometConfirmationDialog")();h=i.useCallback(function(a){b("bs_curry")._1(l,f);b("bs_curry")._1(d,!1);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkMarkAsRead),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))});var o=i.useCallback(function(a){b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending));return b("bs_curry")._3(n,{body:f.size===1?g._(/*FBT_CALL*/"Tin nh\u1eafn n\u00e0y s\u1ebd b\u1ecb x\u00f3a v\u0129nh vi\u1ec5n, nh\u01b0ng kh\u00f4ng ai bi\u1ebft b\u1ea1n \u0111\u00e3 xem ho\u1eb7c x\u00f3a."/*FBT_CALL*/):g._(/*FBT_CALL*/"Nh\u1eefng tin nh\u1eafn n\u00e0y s\u1ebd b\u1ecb x\u00f3a v\u0129nh vi\u1ec5n, nh\u01b0ng kh\u00f4ng ai bi\u1ebft b\u1ea1n \u0111\u00e3 xem ho\u1eb7c x\u00f3a."/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"X\u00f3a"/*FBT_CALL*/),title:f.size===1?g._(/*FBT_CALL*/"X\u00f3a 1 tin nh\u1eafn \u0111ang ch\u1edd?"/*FBT_CALL*/):g._(/*FBT_CALL*/"X\u00f3a {Number of selected threads} tin nh\u1eafn \u0111ang ch\u1edd?"/*FBT_CALL*/,[g._param("Number of selected threads",String(f.size))])},function(a){b("bs_curry")._1(m,f);b("bs_curry")._1(d,!1);b("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",b("focusScopeQueries").tabbableScopeQuery);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionConfirmed(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))},function(a){})});return i.jsx("div",{className:a.isBulkActionsEditMode?"usczdcwk f10w8fjw":"mkhogb32",id:c==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(b("TetraButtonGroup.react"),{primary:{label:g._(/*FBT_CALL*/"\u0110\u00e1nh d\u1ea5u l\u00e0 \u0111\u00e3 \u0111\u1ecdc"/*FBT_CALL*/).toString(),type:"secondary",onPress:h,testid:c==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",disabled:f.size===0||e.size===0},secondary:{label:g._(/*FBT_CALL*/"X\u00f3a"/*FBT_CALL*/),onPress:o,disabled:f.size===0,testid:c==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"},direction:"forward",align:"justify"})})})}c=a;f.make=c}),null);
__d("MWInboxMessageRequestsRoot.bs",["BootloaderResource","JSResource","LsSystemFolder.bs","MessageRequestsBulkActionsButtons.bs","MessageRequestsBulkActionsContextProvider.react","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c={messageRequestsContainer:{display:"j83agx80",flexDirection:"cbu4d94t",width:"k4urcfbm"}};var i=b("JSResource")("MAWRequestAndSpamThreadListPage.bs").__setRef("MWInboxMessageRequestsRoot.bs");function j(a,c,d,e,f){f={parentThreadKey:c,entryPoint:d};a!==void 0&&(f.hidePage=b("bs_caml_option").valFromOption(a));e!==void 0&&(f.showBackButton=b("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}d={reasonResource:i,makeProps:j,make:k};function a(a){a=a.hidePage;return h.jsxs(b("MessageRequestsBulkActionsContextProvider.react"),{children:[h.jsx(k,j(a,b("LsSystemFolder.bs").pending,"inboxPendingRequests",void 0,void 0)),h.jsx(b("MessageRequestsBulkActionsButtons.bs").make,{})]})}e=a;f.styles=c;f.LazyMAWRequestAndSpamThreadListPage=d;f.make=e}),null);
__d("MWInboxMessageRequestsRoot.re",["MWInboxMessageRequestsRoot.bs"],(function(a,b,c,d,e,f){a=b("MWInboxMessageRequestsRoot.bs").make;f.make=a}),null);
__d("MWInboxMessageRequestsRoot.react",["MWInboxMessageRequestsRoot.re","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(d("MWInboxMessageRequestsRoot.re").make,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);